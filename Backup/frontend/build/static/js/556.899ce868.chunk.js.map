{"version":3,"file":"static/js/556.899ce868.chunk.js","mappings":"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","sources":["components/dashboard/UserFormModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X } from 'lucide-react';\n\nexport default function UserFormModal({ currentUser, userToEdit, onClose, onCreate, onUpdate }) {\n  const isEditMode = !!userToEdit;\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    role: 'engineer',\n  });\n\n  useEffect(() => {\n    if (isEditMode) {\n      setFormData({\n        name: userToEdit.name,\n        email: userToEdit.email,\n        password: '',\n        role: userToEdit.role,\n      });\n    }\n  }, [isEditMode, userToEdit]);\n\n  const ROLES = ['engineer', 'manager', 'admin', 'superadmin'];\n  const availableRoles = ROLES.filter(r => ROLES.indexOf(currentUser.role) > ROLES.indexOf(r));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const dataToSend = { ...formData };\n    if (isEditMode && !dataToSend.password) {\n      delete dataToSend.password; // Don't send empty password on update\n    }\n    if (isEditMode) {\n      onUpdate(userToEdit.id, dataToSend);\n    } else {\n      onCreate(dataToSend);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-slate-900/60 flex z-50 items-center justify-center backdrop-blur-sm p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-lg border border-slate-200\">\n        <div className=\"px-6 py-4 border-b border-slate-200 flex justify-between items-center bg-slate-50 rounded-t-lg\">\n          <div>\n            <h3 className=\"text-sm font-semibold text-slate-900\">{isEditMode ? 'Edit User Record' : 'Create New User'}</h3>\n          </div>\n          <button onClick={onClose} className=\"p-1 hover:bg-slate-200 rounded text-slate-400 hover:text-slate-600 transition-colors\">\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n        \n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-700 mb-1\">Full Name <span className=\"text-red-500\">*</span></label>\n            <input \n              type=\"text\" \n              value={formData.name} \n              onChange={e => setFormData({...formData, name: e.target.value})} \n              required \n              className=\"w-full bg-white border border-slate-300 rounded-md px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-slate-700 mb-1\">Email <span className=\"text-red-500\">*</span></label>\n            <input \n              type=\"email\" \n              value={formData.email} \n              onChange={e => setFormData({...formData, email: e.target.value})} \n              required \n              className=\"w-full bg-white border border-slate-300 rounded-md px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\" \n            />\n          </div>\n\n          <div>\n             <label className=\"block text-sm font-medium text-slate-700 mb-1\">Password {isEditMode && <span className=\"text-slate-400 font-normal\">(Leave blank to keep unchanged)</span>}</label>\n             <input \n               type=\"password\" \n               value={formData.password} \n               onChange={e => setFormData({...formData, password: e.target.value})} \n               required={!isEditMode} \n               className=\"w-full bg-white border border-slate-300 rounded-md px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\" \n             />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-700 mb-1\">Role <span className=\"text-red-500\">*</span></label>\n            <select \n               value={formData.role} \n               onChange={e => setFormData({...formData, role: e.target.value})} \n               required \n               className=\"w-full bg-white border border-slate-300 rounded-md px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n             >\n              {availableRoles.map(r => <option key={r} value={r}>{r.charAt(0).toUpperCase() + r.slice(1)}</option>)}\n            </select>\n          </div>\n          \n          <div className=\"pt-4 border-t border-slate-100 flex justify-end gap-3\">\n             <button \n               type=\"button\" \n               onClick={onClose}\n               className=\"px-4 py-2 border border-slate-300 rounded-md text-sm font-medium text-slate-700 hover:bg-slate-50 transition-colors\"\n             >\n               Cancel\n             </button>\n             <button \n               type=\"submit\" \n               className=\"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors shadow-sm\"\n             >\n               {isEditMode ? 'Update User' : 'Create User'}\n             </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":["UserFormModal","_ref","currentUser","userToEdit","onClose","onCreate","onUpdate","isEditMode","formData","setFormData","useState","name","email","password","role","useEffect","ROLES","availableRoles","filter","r","indexOf","_jsx","className","children","_jsxs","onClick","X","onSubmit","e","preventDefault","dataToSend","_objectSpread","id","type","value","onChange","target","required","map","charAt","toUpperCase","slice"],"ignoreList":[],"sourceRoot":""}