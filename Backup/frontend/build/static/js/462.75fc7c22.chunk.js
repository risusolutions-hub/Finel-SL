/*! For license information please see 462.75fc7c22.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrole_based_frontend=self.webpackChunkrole_based_frontend||[]).push([[462],{2489(e,s,t){t.d(s,{A:()=>a});const a=(0,t(5228).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5462(e,s,t){t.r(s),t.d(s,{default:()=>D});var a=t(9379),r=t(5043),l=t(73),d=t(5228);const n=(0,d.A)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),c=(0,d.A)("paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);var i=t(7118),x=t(1680),o=t(4537),m=t(8280),g=t(5347),h=t(2489);const p=(0,d.A)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),y=(0,d.A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);var u=t(8646),b=t(7033),j=t(9233),N=t(7365);const f=(0,d.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),v=(0,d.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),k=(0,d.A)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),w=(0,d.A)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]);var A=t(7719);const M=(0,d.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),C=(0,d.A)("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),S=(0,d.A)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var L=t(3639),E=t(7104);const R=(0,d.A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);var _=t(674),T=t(1728),z=t(579);function D(e){var s,t,d,D,q,F,O,I,P,H,U,V,B;let{user:J,showToast:G}=e;const{refreshSettings:W}=(0,T.t0)(),[K,Q]=(0,r.useState)("features"),[X,Y]=(0,r.useState)({}),[Z,$]=(0,r.useState)({}),[ee,se]=(0,r.useState)(!0),[te,ae]=(0,r.useState)(!1),[re,le]=(0,r.useState)(!1),[de,ne]=(0,r.useState)({}),[ce,ie]=(0,r.useState)([]),[xe,oe]=(0,r.useState)([]),[me,ge]=(0,r.useState)(null),[he,pe]=(0,r.useState)(null),[ye,ue]=(0,r.useState)([]),[be,je]=(0,r.useState)(!1),Ne=[{id:"features",label:"Features",icon:l.A},{id:"system",label:"System",icon:n},{id:"branding",label:"Branding",icon:c},{id:"sessions",label:"Sessions",icon:i.A},{id:"audit",label:"Audit Logs",icon:x.A},{id:"api",label:"API Logs",icon:o.A},{id:"health",label:"Health",icon:m.A}],fe={feature_skills:g.A,feature_certifications:h.A,feature_checklists:p,feature_customization:y,feature_leave_management:u.A,feature_analytics:b.A,feature_notifications:j.A},ve={feature_skills:"indigo",feature_certifications:"emerald",feature_checklists:"amber",feature_customization:"purple",feature_leave_management:"teal",feature_analytics:"orange",feature_notifications:"red"},ke=(0,r.useCallback)(async()=>{try{se(!0);const e=await _.A.get("/settings");e.data.success&&(Y(e.data.settings),ne(JSON.parse(JSON.stringify(e.data.settings))))}catch(e){console.error("Error fetching settings:",e)}finally{se(!1)}},[]),we=(0,r.useCallback)(async()=>{try{const e=await _.A.get("/system/config");e.data.success&&$(e.data.config)}catch(e){console.error("Error fetching system config:",e)}},[]),Ae=(0,r.useCallback)(async()=>{try{je(!0);const e=await _.A.get("/system/audit-logs?limit=100");e.data.success&&ie(e.data.logs)}catch(e){console.error("Error fetching audit logs:",e)}finally{je(!1)}},[]),Me=(0,r.useCallback)(async()=>{try{je(!0);const e=await _.A.get("/system/api-logs?limit=100");e.data.success&&oe(e.data.logs)}catch(e){console.error("Error fetching API logs:",e)}finally{je(!1)}},[]),Ce=(0,r.useCallback)(async()=>{try{const e=await _.A.get("/system/api-metrics");e.data.success&&ge(e.data.metrics)}catch(e){console.error("Error fetching API metrics:",e)}},[]),Se=(0,r.useCallback)(async()=>{try{const e=await _.A.get("/system/health");e.data.success&&pe(e.data.health)}catch(e){console.error("Error fetching health status:",e)}},[]),Le=(0,r.useCallback)(async()=>{try{const e=await _.A.get("/system/sessions");e.data.success&&ue(e.data.sessions)}catch(e){console.error("Error fetching sessions:",e)}},[]);(0,r.useEffect)(()=>{ke(),we()},[ke,we]),(0,r.useEffect)(()=>{"audit"===K&&Ae(),"api"===K&&(Me(),Ce()),"health"===K&&Se(),"sessions"===K&&Le()},[K,Ae,Me,Ce,Se,Le]);const Ee=async()=>{try{ae(!0);const e=await _.A.put("/system/config",Z);e.data.success&&(null===G||void 0===G||G("Configuration saved successfully","success"),$(e.data.config))}catch(e){null===G||void 0===G||G("Failed to save configuration","error")}finally{ae(!1)}},Re=(e,s)=>{const t={indigo:s?"bg-indigo-100 border-indigo-300":"bg-gray-50 border-gray-200",emerald:s?"bg-emerald-100 border-emerald-300":"bg-gray-50 border-gray-200",amber:s?"bg-amber-100 border-amber-300":"bg-gray-50 border-gray-200",purple:s?"bg-purple-100 border-purple-300":"bg-gray-50 border-gray-200",blue:s?"bg-blue-100 border-blue-300":"bg-gray-50 border-gray-200",teal:s?"bg-teal-100 border-teal-300":"bg-gray-50 border-gray-200",orange:s?"bg-orange-100 border-orange-300":"bg-gray-50 border-gray-200",red:s?"bg-red-100 border-red-300":"bg-gray-50 border-gray-200"};return t[e]||t.indigo},_e=(e,s)=>{const t={indigo:s?"bg-indigo-500":"bg-gray-300",emerald:s?"bg-emerald-500":"bg-gray-300",amber:s?"bg-amber-500":"bg-gray-300",purple:s?"bg-purple-500":"bg-gray-300",blue:s?"bg-blue-500":"bg-gray-300",teal:s?"bg-teal-500":"bg-gray-300",orange:s?"bg-orange-500":"bg-gray-300",red:s?"bg-red-500":"bg-gray-300"};return t[e]||t.indigo};if("superadmin"!==(null===J||void 0===J?void 0:J.role))return(0,z.jsx)("div",{className:"p-6",children:(0,z.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,z.jsx)(h.A,{className:"w-12 h-12 text-red-400 mx-auto mb-3"}),(0,z.jsx)("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Access Denied"}),(0,z.jsx)("p",{className:"text-red-600 text-sm",children:"Only super admin can access system settings."})]})});if(ee)return(0,z.jsx)("div",{className:"p-6",children:(0,z.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,z.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,z.jsx)("div",{className:"h-12 bg-gray-200 rounded"}),(0,z.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,z.jsx)("div",{className:"h-24 bg-gray-200 rounded-lg"},e))})]})});const Te=Object.entries(X).filter(e=>{let[s]=e;return s.startsWith("feature_")});return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"p-2 bg-indigo-100 rounded-lg",children:(0,z.jsx)(N.A,{className:"w-6 h-6 text-indigo-600"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"System Settings"}),(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Super admin control panel"})]})]}),(0,z.jsx)("div",{className:"border-b border-gray-200",children:(0,z.jsx)("nav",{className:"flex gap-1 overflow-x-auto",children:Ne.map(e=>{const s=e.icon;return(0,z.jsxs)("button",{onClick:()=>Q(e.id),className:"flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ".concat(K===e.id?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,z.jsx)(s,{className:"w-4 h-4"}),e.label]},e.id)})})}),(0,z.jsxs)("div",{className:"min-h-[400px]",children:["features"===K&&(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Toggle features on/off for all users"}),(0,z.jsxs)("div",{className:"flex gap-2",children:[re&&(0,z.jsxs)("button",{onClick:()=>{Y(JSON.parse(JSON.stringify(de))),le(!1)},className:"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 flex items-center gap-2",children:[(0,z.jsx)(f,{className:"w-4 h-4"}),"Reset"]}),(0,z.jsxs)("button",{onClick:async()=>{try{ae(!0);const e=Object.entries(X).map(e=>{let[s,t]=e;return{key:s,value:t.value}});(await _.A.put("/settings",{settings:e})).data.success&&(null===G||void 0===G||G("Settings saved successfully","success"),ne(JSON.parse(JSON.stringify(X))),le(!1),W())}catch(e){null===G||void 0===G||G("Failed to save settings","error")}finally{ae(!1)}},disabled:!re||te,className:"px-4 py-2 text-sm font-medium rounded-lg flex items-center gap-2 ".concat(re?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-400"),children:[(0,z.jsx)(v,{className:"w-4 h-4"}),te?"Saving...":"Save Changes"]})]})]}),(0,z.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[(0,z.jsx)(h.A,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:"font-medium text-amber-800 text-sm",children:"Super Admin Controls"}),(0,z.jsx)("p",{className:"text-amber-700 text-xs mt-1",children:"Disabling a feature will hide it from all users across the system. Changes take effect immediately after saving."})]})]}),(0,z.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Te.map(e=>{let[s,t]=e;const r=fe[s]||N.A,l=ve[s]||"indigo",d=t.value;return(0,z.jsxs)("div",{className:"relative border rounded-xl p-4 transition-all ".concat(Re(l,d)),children:[(0,z.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"p-2 rounded-lg ".concat(_e(l,d)),children:(0,z.jsx)(r,{className:"w-5 h-5 text-white"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"font-semibold text-sm ".concat(d?"text-gray-900":"text-gray-500"),children:t.label}),(0,z.jsx)("p",{className:"text-xs mt-1 ".concat(d?"text-gray-600":"text-gray-400"),children:t.description})]})]}),(0,z.jsx)("button",{onClick:()=>(e=>{Y(s=>(0,a.A)((0,a.A)({},s),{},{[e]:(0,a.A)((0,a.A)({},s[e]),{},{value:!s[e].value})})),le(!0)})(s),className:"flex-shrink-0",children:d?(0,z.jsx)(k,{className:"w-10 h-10 text-emerald-500"}):(0,z.jsx)(w,{className:"w-10 h-10 text-gray-400"})})]}),(0,z.jsx)("span",{className:"absolute top-2 right-2 text-[10px] font-bold px-2 py-0.5 rounded-full ".concat(d?"bg-emerald-500 text-white":"bg-gray-400 text-white"),children:d?"ON":"OFF"})]},s)})}),(0,z.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,z.jsx)("h4",{className:"font-medium text-gray-700 text-sm mb-3",children:"Feature Summary"}),(0,z.jsx)("div",{className:"flex flex-wrap gap-2",children:Te.map(e=>{let[s,t]=e;return(0,z.jsx)("span",{className:"text-xs px-3 py-1.5 rounded-full font-medium ".concat(t.value?"bg-emerald-100 text-emerald-700 border border-emerald-200":"bg-gray-100 text-gray-500 border border-gray-200 line-through"),children:t.label},s)})}),(0,z.jsxs)("p",{className:"text-xs text-gray-500 mt-3",children:[Te.filter(e=>{let[s,t]=e;return t.value}).length," of ",Te.length," features enabled"]})]})]}),"system"===K&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-5",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,z.jsx)(A.A,{className:"w-5 h-5 text-amber-500"}),(0,z.jsx)("h3",{className:"font-semibold text-gray-900",children:"Maintenance Mode"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("label",{className:"flex items-center gap-3",children:[(0,z.jsx)("input",{type:"checkbox",checked:Z.maintenanceMode||!1,onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{maintenanceMode:e.target.checked})),className:"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,z.jsx)("span",{className:"text-sm text-gray-700",children:"Enable maintenance mode"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maintenance Message"}),(0,z.jsx)("textarea",{value:Z.maintenanceMessage||"",onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{maintenanceMessage:e.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:2,placeholder:"System is under maintenance. Please try again later."})]})]})]}),(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-5",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,z.jsx)(M,{className:"w-5 h-5 text-blue-500"}),(0,z.jsx)("h3",{className:"font-semibold text-gray-900",children:"Data Retention"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Closed Tickets (days)"}),(0,z.jsx)("input",{type:"number",value:Z.dataRetentionDays||365,onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{dataRetentionDays:parseInt(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg text-sm",min:"0"}),(0,z.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"0 = never delete"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Audit Logs (days)"}),(0,z.jsx)("input",{type:"number",value:Z.auditLogRetentionDays||90,onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{auditLogRetentionDays:parseInt(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg text-sm",min:"7"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Logs (days)"}),(0,z.jsx)("input",{type:"number",value:Z.apiLogRetentionDays||30,onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{apiLogRetentionDays:parseInt(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg text-sm",min:"1"})]})]})]}),(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-5",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,z.jsx)(C,{className:"w-5 h-5 text-red-500"}),(0,z.jsx)("h3",{className:"font-semibold text-gray-900",children:"Debug & Logging"})]}),(0,z.jsxs)("div",{className:"space-y-3",children:[(0,z.jsxs)("label",{className:"flex items-center gap-3",children:[(0,z.jsx)("input",{type:"checkbox",checked:Z.debugMode||!1,onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{debugMode:e.target.checked})),className:"w-5 h-5 rounded border-gray-300 text-indigo-600"}),(0,z.jsx)("span",{className:"text-sm text-gray-700",children:"Debug Mode (verbose logging)"})]}),(0,z.jsxs)("label",{className:"flex items-center gap-3",children:[(0,z.jsx)("input",{type:"checkbox",checked:!1!==Z.apiLoggingEnabled,onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{apiLoggingEnabled:e.target.checked})),className:"w-5 h-5 rounded border-gray-300 text-indigo-600"}),(0,z.jsx)("span",{className:"text-sm text-gray-700",children:"API Request Logging"})]}),(0,z.jsxs)("label",{className:"flex items-center gap-3",children:[(0,z.jsx)("input",{type:"checkbox",checked:Z.verboseErrors||!1,onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{verboseErrors:e.target.checked})),className:"w-5 h-5 rounded border-gray-300 text-indigo-600"}),(0,z.jsx)("span",{className:"text-sm text-gray-700",children:"Verbose Error Messages"})]})]})]}),(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-5",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,z.jsx)(S,{className:"w-5 h-5 text-green-500"}),(0,z.jsx)("h3",{className:"font-semibold text-gray-900",children:"Backup Settings"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("label",{className:"flex items-center gap-3",children:[(0,z.jsx)("input",{type:"checkbox",checked:Z.autoBackupEnabled||!1,onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{autoBackupEnabled:e.target.checked})),className:"w-5 h-5 rounded border-gray-300 text-indigo-600"}),(0,z.jsx)("span",{className:"text-sm text-gray-700",children:"Enable automatic backups"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency"}),(0,z.jsxs)("select",{value:Z.backupFrequency||"weekly",onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{backupFrequency:e.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm",children:[(0,z.jsx)("option",{value:"daily",children:"Daily"}),(0,z.jsx)("option",{value:"weekly",children:"Weekly"}),(0,z.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keep last N backups"}),(0,z.jsx)("input",{type:"number",value:Z.backupRetentionCount||5,onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{backupRetentionCount:parseInt(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg text-sm",min:"1",max:"30"})]})]})]})]}),(0,z.jsxs)("button",{onClick:Ee,disabled:te,className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,z.jsx)(v,{className:"w-4 h-4"}),te?"Saving...":"Save Configuration"]})]}),"branding"===K&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-5",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,z.jsx)(L.A,{className:"w-5 h-5 text-purple-500"}),(0,z.jsx)("h3",{className:"font-semibold text-gray-900",children:"Company Branding"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),(0,z.jsx)("input",{type:"text",value:Z.companyName||"",onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{companyName:e.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm",placeholder:"LaserService"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo URL"}),(0,z.jsx)("input",{type:"text",value:Z.companyLogo||"",onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{companyLogo:e.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm",placeholder:"https://example.com/logo.png"}),Z.companyLogo&&(0,z.jsxs)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg",children:[(0,z.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),(0,z.jsx)("img",{src:Z.companyLogo,alt:"Logo",className:"h-12 object-contain",onError:e=>e.target.style.display="none"})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Footer Text"}),(0,z.jsx)("input",{type:"text",value:Z.footerText||"",onChange:e=>$((0,a.A)((0,a.A)({},Z),{},{footerText:e.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm",placeholder:"\xa9 2026 Company. All rights reserved."})]})]})]}),(0,z.jsxs)("button",{onClick:Ee,disabled:te,className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,z.jsx)(v,{className:"w-4 h-4"}),te?"Saving...":"Save Branding"]})]}),"sessions"===K&&(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Active user sessions (last 24 hours)"}),(0,z.jsxs)("button",{onClick:Le,className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[(0,z.jsx)(f,{className:"w-4 h-4"})," Refresh"]})]}),(0,z.jsx)("div",{className:"bg-white border rounded-xl overflow-hidden",children:(0,z.jsxs)("table",{className:"w-full text-sm",children:[(0,z.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"User"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Role"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Last Login"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Status"}),(0,z.jsx)("th",{className:"px-4 py-3 text-right font-medium text-gray-600",children:"Actions"})]})}),(0,z.jsxs)("tbody",{className:"divide-y",children:[ye.map(e=>{var s;return(0,z.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,z.jsx)("td",{className:"px-4 py-3",children:(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})}),(0,z.jsx)("td",{className:"px-4 py-3",children:(0,z.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-700 capitalize",children:null===(s=e.role)||void 0===s?void 0:s.replace("_"," ")})}),(0,z.jsx)("td",{className:"px-4 py-3 text-gray-600",children:e.lastLoginAt?new Date(e.lastLoginAt).toLocaleString():"N/A"}),(0,z.jsx)("td",{className:"px-4 py-3",children:e.isCheckedIn?(0,z.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"Active"}):(0,z.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-600",children:"Idle"})}),(0,z.jsx)("td",{className:"px-4 py-3 text-right",children:(0,z.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to terminate this session?"))try{await _.A.delete("/system/sessions/".concat(e)),null===G||void 0===G||G("Session terminated","success"),Le()}catch(s){null===G||void 0===G||G("Failed to terminate session","error")}})(e.id),disabled:e.id===(null===J||void 0===J?void 0:J.id),className:"text-xs font-medium ".concat(e.id===(null===J||void 0===J?void 0:J.id)?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-700"),children:e.id===(null===J||void 0===J?void 0:J.id)?"Current":"Terminate"})})]},e.id)}),0===ye.length&&(0,z.jsx)("tr",{children:(0,z.jsx)("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No active sessions"})})]})]})})]}),"audit"===K&&(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Recent admin actions and system events"}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)("button",{onClick:async()=>{try{const e=await _.A.get("/system/audit-logs/export",{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=s,t.download="audit_logs_".concat((new Date).toISOString().split("T")[0],".csv"),t.click(),null===G||void 0===G||G("Audit logs exported","success")}catch(e){null===G||void 0===G||G("Failed to export logs","error")}},className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-1",children:[(0,z.jsx)(E.A,{className:"w-4 h-4"})," Export"]}),(0,z.jsxs)("button",{onClick:Ae,className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[(0,z.jsx)(f,{className:"w-4 h-4"})," Refresh"]})]})]}),(0,z.jsx)("div",{className:"bg-white border rounded-xl overflow-hidden max-h-[500px] overflow-y-auto",children:(0,z.jsxs)("table",{className:"w-full text-sm",children:[(0,z.jsx)("thead",{className:"bg-gray-50 border-b sticky top-0",children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Timestamp"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"User"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Action"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Resource"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Description"})]})}),(0,z.jsxs)("tbody",{className:"divide-y",children:[be?(0,z.jsx)("tr",{children:(0,z.jsx)("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"Loading..."})}):ce.map(e=>(0,z.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,z.jsx)("td",{className:"px-4 py-3 text-xs text-gray-500 whitespace-nowrap",children:new Date(e.createdAt).toLocaleString()}),(0,z.jsx)("td",{className:"px-4 py-3",children:(0,z.jsx)("span",{className:"text-xs font-medium",children:e.userName||"System"})}),(0,z.jsx)("td",{className:"px-4 py-3",children:(0,z.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded ".concat("CREATE"===e.action?"bg-green-100 text-green-700":"UPDATE"===e.action?"bg-blue-100 text-blue-700":"DELETE"===e.action?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:e.action})}),(0,z.jsx)("td",{className:"px-4 py-3 text-xs text-gray-600",children:e.resource}),(0,z.jsx)("td",{className:"px-4 py-3 text-xs text-gray-600 max-w-xs truncate",children:e.description})]},e.id)),!be&&0===ce.length&&(0,z.jsx)("tr",{children:(0,z.jsx)("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No audit logs yet"})})]})]})})]}),"api"===K&&(0,z.jsxs)("div",{className:"space-y-6",children:[me&&(0,z.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,z.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Requests (24h)"}),(0,z.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(s=me.totalRequests)||void 0===s?void 0:s.toLocaleString())||0})]}),(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,z.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Avg Response"}),(0,z.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[me.avgResponseTime||0,"ms"]})]}),(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,z.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Errors (24h)"}),(0,z.jsx)("p",{className:"text-2xl font-bold text-red-600",children:me.errorCount||0})]}),(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,z.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Error Rate"}),(0,z.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[me.errorRate||0,"%"]})]})]}),(0,z.jsx)("div",{className:"flex justify-end",children:(0,z.jsxs)("button",{onClick:()=>{Me(),Ce()},className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[(0,z.jsx)(f,{className:"w-4 h-4"})," Refresh"]})}),(0,z.jsx)("div",{className:"bg-white border rounded-xl overflow-hidden max-h-[400px] overflow-y-auto",children:(0,z.jsxs)("table",{className:"w-full text-sm",children:[(0,z.jsx)("thead",{className:"bg-gray-50 border-b sticky top-0",children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Time"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Method"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Endpoint"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Status"}),(0,z.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Response"})]})}),(0,z.jsxs)("tbody",{className:"divide-y",children:[xe.map(e=>(0,z.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,z.jsx)("td",{className:"px-4 py-2 text-xs text-gray-500",children:new Date(e.createdAt).toLocaleTimeString()}),(0,z.jsx)("td",{className:"px-4 py-2",children:(0,z.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded ".concat("GET"===e.method?"bg-blue-100 text-blue-700":"POST"===e.method?"bg-green-100 text-green-700":"PUT"===e.method?"bg-amber-100 text-amber-700":"DELETE"===e.method?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:e.method})}),(0,z.jsx)("td",{className:"px-4 py-2 text-xs text-gray-600 max-w-xs truncate",children:e.endpoint}),(0,z.jsx)("td",{className:"px-4 py-2",children:(0,z.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded ".concat(e.statusCode<300?"bg-green-100 text-green-700":e.statusCode<400?"bg-blue-100 text-blue-700":e.statusCode<500?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:e.statusCode})}),(0,z.jsxs)("td",{className:"px-4 py-2 text-xs text-gray-600",children:[e.responseTime,"ms"]})]},e.id)),0===xe.length&&(0,z.jsx)("tr",{children:(0,z.jsx)("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No API logs yet"})})]})]})})]}),"health"===K&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"System health and performance metrics"}),(0,z.jsxs)("button",{onClick:Se,className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[(0,z.jsx)(f,{className:"w-4 h-4"})," Refresh"]})]}),he?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"border rounded-xl p-6 ".concat("healthy"===he.status?"bg-green-50 border-green-200":"degraded"===he.status?"bg-amber-50 border-amber-200":"bg-red-50 border-red-200"),children:(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center ".concat("healthy"===he.status?"bg-green-500":"degraded"===he.status?"bg-amber-500":"bg-red-500"),children:"healthy"===he.status?(0,z.jsx)(R,{className:"w-8 h-8 text-white"}):(0,z.jsx)(A.A,{className:"w-8 h-8 text-white"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-xl font-bold capitalize",children:he.status}),(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Uptime: ",he.uptimeFormatted]})]})]})}),(0,z.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,z.jsx)(M,{className:"w-4 h-4 text-blue-500"}),(0,z.jsx)("span",{className:"text-xs text-gray-500 uppercase",children:"Database"})]}),(0,z.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[(null===(t=he.database)||void 0===t?void 0:t.responseTime)||0,"ms"]}),(0,z.jsx)("p",{className:"text-xs ".concat("healthy"===(null===(d=he.database)||void 0===d?void 0:d.status)?"text-green-600":"text-red-600"),children:(null===(D=he.database)||void 0===D?void 0:D.status)||"unknown"})]}),(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,z.jsx)(n,{className:"w-4 h-4 text-purple-500"}),(0,z.jsx)("span",{className:"text-xs text-gray-500 uppercase",children:"Memory"})]}),(0,z.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[(null===(q=he.memory)||void 0===q||null===(F=q.system)||void 0===F?void 0:F.usedPercent)||0,"%"]}),(0,z.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(O=he.memory)||void 0===O||null===(I=O.system)||void 0===I?void 0:I.free)||0,"GB free"]})]}),(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,z.jsx)(m.A,{className:"w-4 h-4 text-orange-500"}),(0,z.jsx)("span",{className:"text-xs text-gray-500 uppercase",children:"CPU Load"})]}),(0,z.jsx)("p",{className:"text-lg font-bold text-gray-900",children:(null===(P=he.cpu)||void 0===P?void 0:P.load1m)||0}),(0,z.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(H=he.cpu)||void 0===H?void 0:H.cores)||0," cores"]})]}),(0,z.jsxs)("div",{className:"bg-white border rounded-xl p-4",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,z.jsx)(i.A,{className:"w-4 h-4 text-green-500"}),(0,z.jsx)("span",{className:"text-xs text-gray-500 uppercase",children:"Active Users"})]}),(0,z.jsx)("p",{className:"text-lg font-bold text-gray-900",children:(null===(U=he.users)||void 0===U?void 0:U.active24h)||0}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Last 24 hours"})]})]}),(0,z.jsx)("div",{className:"bg-white border rounded-xl p-4",children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(A.A,{className:"w-4 h-4 text-red-500"}),(0,z.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Errors (Last Hour)"})]}),(0,z.jsx)("span",{className:"text-lg font-bold ".concat(((null===(V=he.errors)||void 0===V?void 0:V.lastHour)||0)>0?"text-red-600":"text-green-600"),children:(null===(B=he.errors)||void 0===B?void 0:B.lastHour)||0})]})})]}):(0,z.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,z.jsx)(m.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,z.jsx)("p",{children:"Loading health status..."})]})]})]})]})}},7104(e,s,t){t.d(s,{A:()=>a});const a=(0,t(5228).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},7719(e,s,t){t.d(s,{A:()=>a});const a=(0,t(5228).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},8280(e,s,t){t.d(s,{A:()=>a});const a=(0,t(5228).A)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]])},8646(e,s,t){t.d(s,{A:()=>a});const a=(0,t(5228).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}}]);
//# sourceMappingURL=462.75fc7c22.chunk.js.map