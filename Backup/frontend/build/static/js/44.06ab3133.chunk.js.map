{"version":3,"file":"static/js/44.06ab3133.chunk.js","mappings":";yNAIe,SAASA,EAAeC,GAAY,IAAX,KAAEC,GAAMD,EAC9C,MAAOE,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,KACxCC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,OAC5BG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAChCK,EAAWC,IAAgBN,EAAAA,EAAAA,UAAS,OAE3CO,EAAAA,EAAAA,WAAU,KACRC,KACC,CAACH,IAEJ,MAAMG,EAAkBC,UACtB,IACEL,GAAW,GAEX,MAAMM,EAAM,IAAIC,KACVC,EAAOC,SAASR,GAChBS,EAAW,IAAIH,KAAKD,EAAIK,UAAmB,GAAPH,EAAY,GAAK,GAAK,MAEzDI,EAAYC,SAAkBC,QAAQC,IAAI,CAC/CC,EAAAA,EAAIC,IAAI,qBAAsB,CAC5BC,OAAQ,CACNR,SAAUA,EAASS,cAAcC,MAAM,KAAK,GAC5CC,OAAQf,EAAIa,cAAcC,MAAM,KAAK,MAGzCJ,EAAAA,EAAIC,IAAI,mBAAoB,CAC1BC,OAAQ,CACNR,SAAUA,EAASS,cAAcC,MAAM,KAAK,GAC5CC,OAAQf,EAAIa,cAAcC,MAAM,KAAK,QAK3CzB,EAAeiB,EAAWU,KAAKC,SAAW,IAC1CzB,EAASe,EAASS,KAAKzB,OAAS,KAClC,CAAE,MAAO2B,GACPC,QAAQC,MAAM,8BAA+BF,EAC/C,CAAC,QACCxB,GAAW,EACb,GAGI2B,EAAkBC,IACtB,IAAKA,EAAY,MAAO,IAExB,OADa,IAAIrB,KAAKqB,GACVC,mBAAmB,QAAS,CACtCC,KAAM,UACNC,OAAQ,UACRC,QAAQ,KAINC,EAAcL,IAClB,IAAKA,EAAY,MAAO,IAExB,OADa,IAAIrB,KAAKqB,GACVM,mBAAmB,QAAS,CACtCC,KAAM,UACNC,MAAO,QACPC,IAAK,aAIHC,EAAcC,IAClB,MAAMC,EAAQC,KAAKC,MAAMH,EAAU,IAC7BI,EAAOJ,EAAU,GACvB,MAAM,GAANK,OAAUJ,EAAK,MAAAI,OAAKD,EAAI,MAG1B,OAAI5C,GACK8C,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mCAAkCC,SAAC,6BAIzDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBC,SAC7B,CAAC,IAAK,KAAM,MAAME,IAAIzC,IACrBwC,EAAAA,EAAAA,MAAA,UAEEE,QAASA,IAAMhD,EAAaM,GAC5BsC,UAAS,2DAAAF,OACP3C,IAAcO,EACV,oCACA,qEACHuC,SAAA,CACJ,QACOvC,EAAK,UARNA,MAcVX,IACCmD,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wCAAuCC,SAAA,EACpDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4DAA2DC,SAAA,EACxEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,8DAA6DC,SAAC,gBAC3EF,EAAAA,EAAAA,KAACM,EAAAA,EAAQ,CAACL,UAAU,+BAEtBD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oCAAmCC,SAAElD,EAAMuD,aACxDP,EAAAA,EAAAA,KAAA,KAAGC,UAAU,8BAA6BC,SAAC,gCAG7CC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4DAA2DC,SAAA,EACxEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,8DAA6DC,SAAC,iBAC3EF,EAAAA,EAAAA,KAACQ,EAAAA,EAAK,CAACP,UAAU,+BAEnBE,EAAAA,EAAAA,MAAA,KAAGF,UAAU,oCAAmCC,SAAA,CAAElD,EAAMyD,WAAW,QACnEN,EAAAA,EAAAA,MAAA,KAAGF,UAAU,8BAA6BC,SAAA,CAAElD,EAAM0D,UAAU,0BAG9DP,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4DAA2DC,SAAA,EACxEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,8DAA6DC,SAAC,eAC3EF,EAAAA,EAAAA,KAACW,EAAAA,EAAU,CAACV,UAAU,+BAExBE,EAAAA,EAAAA,MAAA,KAAGF,UAAU,oCAAmCC,SAAA,CAAElD,EAAM4D,eAAe,QACvET,EAAAA,EAAAA,MAAA,KAAGF,UAAU,8BAA6BC,SAAA,CAAElD,EAAM6D,cAAc,uBAGlEV,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4DAA2DC,SAAA,EACxEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,8DAA6DC,SAAC,cAC3EF,EAAAA,EAAAA,KAACc,EAAAA,EAAW,CAACb,UAAU,+BAEzBD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oCAAmCC,SAAET,EAAWzC,EAAM+D,kBACnEf,EAAAA,EAAAA,KAAA,KAAGC,UAAU,8BAA6BC,SAAC,4BAMjDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wEAAuEC,SAAA,EACpFC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,8DAA6DC,SAAA,EACzEF,EAAAA,EAAAA,KAACM,EAAAA,EAAQ,CAACL,UAAU,4BACpBD,EAAAA,EAAAA,KAAA,MAAIC,UAAU,+BAA8BC,SAAC,6BAEhDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBC,UAC9BC,EAAAA,EAAAA,MAAA,SAAOF,UAAU,0CAAyCC,SAAA,EACxDF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,uFAAsFC,UACrGC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2BAA0BC,SAAC,UACzCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2BAA0BC,SAAC,cACzCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2BAA0BC,SAAC,cACzCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2BAA0BC,SAAC,mBAG7CF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,4BAA2BC,SACzCrD,EAAYmE,OAAS,EACpBnE,EAAYuD,IAAI,CAACa,EAAQC,KACvBf,EAAAA,EAAAA,MAAA,MAAoBF,UAAWiB,EAAM,IAAM,EAAI,WAAa,mCAAmChB,SAAA,EAC7FF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,uCAAsCC,SACjDd,EAAW6B,EAAOE,aAErBnB,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yCAAwCC,SACnDpB,EAAemC,EAAOG,iBAEzBpB,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qCAAoCC,SAC/CpB,EAAemC,EAAOI,iBAEzBrB,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yCAAwCC,SACnDT,EAAWwB,EAAOK,0BAXdL,EAAOM,MAgBlBvB,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,MAAIwB,QAAQ,IAAIvB,UAAU,uCAAsCC,SAAC,yDAWnF,C,+BCpLO,MAgBDS,GAAac,E,QAAAA,GAAiB,cAhBA,CAClC,CAAC,OAAQ,CAAEC,EAAG,YAAaC,IAAK,WAChC,CAAC,OAAQ,CAAED,EAAG,yBAA0BC,IAAK,Y,+BCFxC,MAkBDrB,GAAWmB,E,QAAAA,GAAiB,WAlBE,CAClC,CAAC,OAAQ,CAAEC,EAAG,SAAUC,IAAK,WAC7B,CAAC,OAAQ,CAAED,EAAG,UAAWC,IAAK,WAC9B,CAAC,OAAQ,CAAEC,MAAO,KAAMC,OAAQ,KAAMC,EAAG,IAAKC,EAAG,IAAKC,GAAI,IAAKL,IAAK,WACpE,CAAC,OAAQ,CAAED,EAAG,WAAYC,IAAK,Y","sources":["components/dashboard/WorkHistoryView.js","../node_modules/lucide-react/src/icons/trending-up.ts","../node_modules/lucide-react/src/icons/calendar.ts"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Calendar, TrendingUp, Clock, CheckCircle } from 'lucide-react';\r\nimport api from '../../api';\r\n\r\nexport default function WorkHistoryView({ user }) {\r\n  const [workHistory, setWorkHistory] = useState([]);\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [timeRange, setTimeRange] = useState('30'); // days\r\n\r\n  useEffect(() => {\r\n    loadWorkHistory();\r\n  }, [timeRange]);\r\n\r\n  const loadWorkHistory = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // Calculate date range\r\n      const now = new Date();\r\n      const days = parseInt(timeRange);\r\n      const fromDate = new Date(now.getTime() - days * 24 * 60 * 60 * 1000);\r\n      \r\n      const [historyRes, statsRes] = await Promise.all([\r\n        api.get('/work-time/history', { \r\n          params: { \r\n            fromDate: fromDate.toISOString().split('T')[0],\r\n            toDate: now.toISOString().split('T')[0]\r\n          }\r\n        }),\r\n        api.get('/work-time/stats', {\r\n          params: {\r\n            fromDate: fromDate.toISOString().split('T')[0],\r\n            toDate: now.toISOString().split('T')[0]\r\n          }\r\n        })\r\n      ]);\r\n\r\n      setWorkHistory(historyRes.data.records || []);\r\n      setStats(statsRes.data.stats || null);\r\n    } catch (err) {\r\n      console.error('Error loading work history:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateString) => {\r\n    if (!dateString) return '-';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleTimeString('en-US', { \r\n      hour: '2-digit', \r\n      minute: '2-digit',\r\n      hour12: true \r\n    });\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '-';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const formatTime = (minutes) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return `${hours}h ${mins}m`;\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-12 text-slate-400\">Loading work history...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Time Range Selector */}\r\n      <div className=\"flex gap-2 mb-6\">\r\n        {['7', '30', '90'].map(days => (\r\n          <button\r\n            key={days}\r\n            onClick={() => setTimeRange(days)}\r\n            className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${\r\n              timeRange === days\r\n                ? 'bg-slate-900 text-white shadow-sm'\r\n                : 'bg-white text-slate-600 border border-slate-200 hover:bg-slate-50'\r\n            }`}\r\n          >\r\n            Last {days} Days\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      {stats && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <div className=\"bg-white rounded-lg border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"text-xs font-medium text-slate-500 uppercase tracking-wider\">Total Days</p>\r\n              <Calendar className=\"w-4 h-4 text-slate-400\" />\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-slate-900\">{stats.totalDays}</p>\r\n            <p className=\"text-xs text-slate-500 mt-1\">Days worked this period</p>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"text-xs font-medium text-slate-500 uppercase tracking-wider\">Total Hours</p>\r\n              <Clock className=\"w-4 h-4 text-slate-400\" />\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-slate-900\">{stats.totalHours}h</p>\r\n            <p className=\"text-xs text-slate-500 mt-1\">{stats.totalMins}m total duration</p>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"text-xs font-medium text-slate-500 uppercase tracking-wider\">Daily Avg</p>\r\n              <TrendingUp className=\"w-4 h-4 text-slate-400\" />\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-slate-900\">{stats.avgHoursPerDay}h</p>\r\n            <p className=\"text-xs text-slate-500 mt-1\">{stats.avgMinsPerDay}m avg per day</p>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"text-xs font-medium text-slate-500 uppercase tracking-wider\">Peak Day</p>\r\n              <CheckCircle className=\"w-4 h-4 text-slate-400\" />\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-slate-900\">{formatTime(stats.maxMinutesDay)}</p>\r\n            <p className=\"text-xs text-slate-500 mt-1\">Longest work day</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Work History Table */}\r\n      <div className=\"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden\">\r\n        <div className=\"px-6 py-4 border-b border-slate-200 flex items-center gap-2\">\r\n           <Calendar className=\"w-5 h-5 text-slate-500\" />\r\n           <h3 className=\"font-semibold text-slate-900\">Daily Attendance Log</h3>\r\n        </div>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-left text-sm text-slate-600\">\r\n            <thead className=\"bg-slate-50 text-xs uppercase font-semibold text-slate-500 border-b border-slate-200\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 tracking-wider\">Date</th>\r\n                <th className=\"px-6 py-3 tracking-wider\">First In</th>\r\n                <th className=\"px-6 py-3 tracking-wider\">Last Out</th>\r\n                <th className=\"px-6 py-3 tracking-wider\">Duration</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-slate-200\">\r\n              {workHistory.length > 0 ? (\r\n                workHistory.map((record, idx) => (\r\n                  <tr key={record.id} className={idx % 2 === 0 ? 'bg-white' : 'bg-slate-50/50 hover:bg-slate-50'}>\r\n                    <td className=\"px-6 py-3 font-medium text-slate-900\">\r\n                      {formatDate(record.workDate)}\r\n                    </td>\r\n                    <td className=\"px-6 py-3 text-emerald-700 font-medium\">\r\n                      {formatDateTime(record.firstCheckIn)}\r\n                    </td>\r\n                    <td className=\"px-6 py-3 text-red-700 font-medium\">\r\n                      {formatDateTime(record.lastCheckOut)}\r\n                    </td>\r\n                    <td className=\"px-6 py-3 font-semibold text-slate-900\">\r\n                      {formatTime(record.totalWorkTimeMinutes)}\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"4\" className=\"px-6 py-8 text-center text-slate-400\">\r\n                    No work records found for this period.\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 7h6v6', key: 'box55l' }],\n  ['path', { d: 'm22 7-8.5 8.5-5-5L2 17', key: '1t1m79' }],\n];\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgN2g2djYiIC8+CiAgPHBhdGggZD0ibTIyIDctOC41IDguNS01LTVMMiAxNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('trending-up', __iconNode);\n\nexport default TrendingUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n"],"names":["WorkHistoryView","_ref","user","workHistory","setWorkHistory","useState","stats","setStats","loading","setLoading","timeRange","setTimeRange","useEffect","loadWorkHistory","async","now","Date","days","parseInt","fromDate","getTime","historyRes","statsRes","Promise","all","api","get","params","toISOString","split","toDate","data","records","err","console","error","formatDateTime","dateString","toLocaleTimeString","hour","minute","hour12","formatDate","toLocaleDateString","year","month","day","formatTime","minutes","hours","Math","floor","mins","concat","_jsx","className","children","_jsxs","map","onClick","Calendar","totalDays","Clock","totalHours","totalMins","TrendingUp","avgHoursPerDay","avgMinsPerDay","CheckCircle","maxMinutesDay","length","record","idx","workDate","firstCheckIn","lastCheckOut","totalWorkTimeMinutes","id","colSpan","createLucideIcon","d","key","width","height","x","y","rx"],"ignoreList":[],"sourceRoot":""}