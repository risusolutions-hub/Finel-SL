/*! For license information please see 44.96e21780.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrole_based_frontend=self.webpackChunkrole_based_frontend||[]).push([[44],{44(e,t,s){s.r(t),s.d(t,{default:()=>o});var a=s(5043),r=s(2054),l=s(8646),d=s(5088),i=s(4919),n=s(674),c=s(579);function o(e){let{user:t}=e;const[s,o]=(0,a.useState)([]),[x,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(!0),[u,b]=(0,a.useState)("30");(0,a.useEffect)(()=>{g()},[u]);const g=async()=>{try{p(!0);const e=new Date,t=parseInt(u),s=new Date(e.getTime()-24*t*60*60*1e3),[a,r]=await Promise.all([n.A.get("/work-time/history",{params:{fromDate:s.toISOString().split("T")[0],toDate:e.toISOString().split("T")[0]}}),n.A.get("/work-time/stats",{params:{fromDate:s.toISOString().split("T")[0],toDate:e.toISOString().split("T")[0]}})]);o(a.data.records||[]),m(r.data.stats||null)}catch(e){console.error("Error loading work history:",e)}finally{p(!1)}},j=e=>{if(!e)return"-";return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},w=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},y=e=>{const t=Math.floor(e/60),s=e%60;return"".concat(t,"h ").concat(s,"m")};return h?(0,c.jsx)("div",{className:"text-center py-12 text-slate-400",children:"Loading work history..."}):(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)("div",{className:"flex gap-2 mb-6",children:["7","30","90"].map(e=>(0,c.jsxs)("button",{onClick:()=>b(e),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat(u===e?"bg-slate-900 text-white shadow-sm":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"),children:["Last ",e," Days"]},e))}),x&&(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,c.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsx)("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total Days"}),(0,c.jsx)(l.A,{className:"w-4 h-4 text-slate-400"})]}),(0,c.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:x.totalDays}),(0,c.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Days worked this period"})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsx)("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total Hours"}),(0,c.jsx)(d.A,{className:"w-4 h-4 text-slate-400"})]}),(0,c.jsxs)("p",{className:"text-2xl font-bold text-slate-900",children:[x.totalHours,"h"]}),(0,c.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[x.totalMins,"m total duration"]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsx)("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Daily Avg"}),(0,c.jsx)(i.A,{className:"w-4 h-4 text-slate-400"})]}),(0,c.jsxs)("p",{className:"text-2xl font-bold text-slate-900",children:[x.avgHoursPerDay,"h"]}),(0,c.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[x.avgMinsPerDay,"m avg per day"]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,c.jsx)("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Peak Day"}),(0,c.jsx)(r.A,{className:"w-4 h-4 text-slate-400"})]}),(0,c.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:y(x.maxMinutesDay)}),(0,c.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Longest work day"})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden",children:[(0,c.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center gap-2",children:[(0,c.jsx)(l.A,{className:"w-5 h-5 text-slate-500"}),(0,c.jsx)("h3",{className:"font-semibold text-slate-900",children:"Daily Attendance Log"})]}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full text-left text-sm text-slate-600",children:[(0,c.jsx)("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500 border-b border-slate-200",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3 tracking-wider",children:"Date"}),(0,c.jsx)("th",{className:"px-6 py-3 tracking-wider",children:"First In"}),(0,c.jsx)("th",{className:"px-6 py-3 tracking-wider",children:"Last Out"}),(0,c.jsx)("th",{className:"px-6 py-3 tracking-wider",children:"Duration"})]})}),(0,c.jsx)("tbody",{className:"divide-y divide-slate-200",children:s.length>0?s.map((e,t)=>(0,c.jsxs)("tr",{className:t%2===0?"bg-white":"bg-slate-50/50 hover:bg-slate-50",children:[(0,c.jsx)("td",{className:"px-6 py-3 font-medium text-slate-900",children:w(e.workDate)}),(0,c.jsx)("td",{className:"px-6 py-3 text-emerald-700 font-medium",children:j(e.firstCheckIn)}),(0,c.jsx)("td",{className:"px-6 py-3 text-red-700 font-medium",children:j(e.lastCheckOut)}),(0,c.jsx)("td",{className:"px-6 py-3 font-semibold text-slate-900",children:y(e.totalWorkTimeMinutes)})]},e.id||e._id||"wh-".concat(t))):(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-400",children:"No work records found for this period."})})})]})})]})]})}},4919(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},8646(e,t,s){s.d(t,{A:()=>a});const a=(0,s(5228).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}}]);
//# sourceMappingURL=44.96e21780.chunk.js.map