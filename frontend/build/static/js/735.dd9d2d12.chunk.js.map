{"version":3,"file":"static/js/735.dd9d2d12.chunk.js","mappings":"mLAGe,SAASA,EAAWC,GAAuD,IAAtD,SAAEC,EAAQ,UAAEC,EAAS,WAAEC,EAAU,KAAEC,EAAI,SAAEC,GAAUL,EACrF,OACEM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACtBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,yCAAwCC,SAAC,6BACvDF,EAAAA,EAAAA,MAAA,KAAGC,UAAU,gCAA+BC,SAAA,CAAEP,EAASS,OAAO,wBAE/C,cAAX,OAAJN,QAAI,IAAJA,OAAI,EAAJA,EAAMO,QACNL,EAAAA,EAAAA,MAAA,UACEM,QAASA,IAAMP,EAAS,aACxBE,UAAU,sNACVM,MAAM,oBAAmBL,SAAA,EAEzBC,EAAAA,EAAAA,KAACK,EAAAA,EAAI,CAACP,UAAU,aAChBE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,mBAAkBC,SAAC,sBAIzCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uDAAsDC,SACpEP,EAASc,IAAIC,IACV,MAAMC,EAAOf,EAAUgB,KAAKC,GAAKA,EAAEC,KAAOJ,EAAEK,YACtCC,EAAoBnB,EAAWoB,OAAOJ,GAAKA,EAAEK,YAAcR,EAAEI,IAC7DK,EAAQH,EAAkBZ,OAC1BgB,EAAcJ,EAAkBZ,OAAS,EACzC,IAAIiB,KAAKL,EAAkBA,EAAkBZ,OAAS,GAAGkB,YAAYC,qBACrE,MAEN,OACAvB,EAAAA,EAAAA,MAAA,OAAgBC,UAAU,mHAAkHC,SAAA,EACxIC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,6DAA4DC,UACvEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC7CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iCAAgCC,SAAEQ,EAAEc,SAClDxB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,gCAA+BC,SAAA,CAAC,OAAKQ,EAAEe,oBAExDzB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,4FAA2FC,SAAA,CACtGiB,EAAM,oBAKnBnB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4CAA2CC,SAAA,EACvDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,mBAAkBC,SAAC,cACnCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,sDAAqDC,UAAM,OAAJS,QAAI,IAAJA,OAAI,EAAJA,EAAMe,WAAe,OAAJf,QAAI,IAAJA,OAAI,EAAJA,EAAMgB,OAAQ,gBAEzG3B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4CAA2CC,SAAA,EACvDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,mBAAkBC,SAAC,kBACnCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,+BAA8BC,SAAEkB,WAIxDjB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,0CAAyCC,UACpDC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,sJAAqJC,SAAC,0BAzBtKQ,EAAEI,UAmCxB,C","sources":["components/dashboard/HistoryView.js"],"sourcesContent":["import React from 'react';\r\nimport { Plus } from 'lucide-react';\r\n\r\nexport default function HistoryView({ machines, customers, complaints, user, setModal }) {\r\n  return (\r\n    <div className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-neutral-900\">Machine Service History</h3>\r\n            <p className=\"text-sm text-neutral-600 mt-1\">{machines.length} assets tracked</p>\r\n          </div>\r\n          {(user?.role !== 'engineer') && (\r\n            <button \r\n              onClick={() => setModal('complaint')} \r\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-xs font-medium flex items-center gap-2 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 transition-colors shadow-sm\"\r\n              title=\"Create New Ticket\"\r\n            >\r\n              <Plus className=\"w-4 h-4\" />\r\n              <span className=\"hidden sm:inline\">New Ticket</span>\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {machines.map(m => {\r\n            const cust = customers.find(c => c.id === m.customerId);\r\n            const machineComplaints = complaints.filter(c => c.machineId === m.id);\r\n            const count = machineComplaints.length;\r\n            const lastService = machineComplaints.length > 0 \r\n                ? new Date(machineComplaints[machineComplaints.length - 1].dateString).toLocaleDateString() \r\n                : 'N/A';\r\n\r\n            return (\r\n            <div key={m.id} className=\"bg-white rounded-lg border border-neutral-200 shadow-sm hover:border-primary-400 transition-colors flex flex-col\">\r\n                <div className=\"p-4 border-b border-neutral-100 bg-neutral-50 rounded-t-lg\">\r\n                    <div className=\"flex justify-between items-start\">\r\n                        <div>\r\n                            <h4 className=\"font-semibold text-neutral-900\">{m.model}</h4>\r\n                            <p className=\"text-xs text-neutral-600 mt-1\">SN: {m.serialNumber}</p>\r\n                        </div>\r\n                        <span className=\"px-2 py-1 bg-white border border-neutral-200 rounded text-xs text-neutral-700 font-medium\">\r\n                            {count} Tickets\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"p-4 space-y-3 flex-1\">\r\n                     <div className=\"flex justify-between items-center text-sm\">\r\n                        <span className=\"text-neutral-600\">Customer</span>\r\n                        <span className=\"font-medium text-neutral-900 truncate max-w-[150px]\">{cust?.company || cust?.name || 'Unknown'}</span>\r\n                    </div>\r\n                     <div className=\"flex justify-between items-center text-sm\">\r\n                        <span className=\"text-neutral-600\">Last Service</span>\r\n                        <span className=\"font-medium text-neutral-900\">{lastService}</span>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"p-3 border-t border-neutral-100 mt-auto\">\r\n                    <button className=\"w-full py-1.5 text-xs font-medium text-primary-600 hover:bg-primary-50 rounded transition-colors border border-transparent hover:border-primary-200\">\r\n                        View Service Logs\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            );\r\n        })}\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["HistoryView","_ref","machines","customers","complaints","user","setModal","_jsxs","className","children","_jsx","length","role","onClick","title","Plus","map","m","cust","find","c","id","customerId","machineComplaints","filter","machineId","count","lastService","Date","dateString","toLocaleDateString","model","serialNumber","company","name"],"ignoreList":[],"sourceRoot":""}