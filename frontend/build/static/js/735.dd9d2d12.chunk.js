"use strict";(self.webpackChunkrole_based_frontend=self.webpackChunkrole_based_frontend||[]).push([[735],{3735(e,s,t){t.r(s),t.d(s,{default:()=>i});t(5043);var r=t(1360),n=t(579);function i(e){let{machines:s,customers:t,complaints:i,user:l,setModal:a}=e;return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",children:"Machine Service History"}),(0,n.jsxs)("p",{className:"text-sm text-neutral-600 mt-1",children:[s.length," assets tracked"]})]}),"engineer"!==(null===l||void 0===l?void 0:l.role)&&(0,n.jsxs)("button",{onClick:()=>a("complaint"),className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-xs font-medium flex items-center gap-2 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 transition-colors shadow-sm",title:"Create New Ticket",children:[(0,n.jsx)(r.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"New Ticket"})]})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>{const s=t.find(s=>s.id===e.customerId),r=i.filter(s=>s.machineId===e.id),l=r.length,a=r.length>0?new Date(r[r.length-1].dateString).toLocaleDateString():"N/A";return(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm hover:border-primary-400 transition-colors flex flex-col",children:[(0,n.jsx)("div",{className:"p-4 border-b border-neutral-100 bg-neutral-50 rounded-t-lg",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold text-neutral-900",children:e.model}),(0,n.jsxs)("p",{className:"text-xs text-neutral-600 mt-1",children:["SN: ",e.serialNumber]})]}),(0,n.jsxs)("span",{className:"px-2 py-1 bg-white border border-neutral-200 rounded text-xs text-neutral-700 font-medium",children:[l," Tickets"]})]})}),(0,n.jsxs)("div",{className:"p-4 space-y-3 flex-1",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,n.jsx)("span",{className:"text-neutral-600",children:"Customer"}),(0,n.jsx)("span",{className:"font-medium text-neutral-900 truncate max-w-[150px]",children:(null===s||void 0===s?void 0:s.company)||(null===s||void 0===s?void 0:s.name)||"Unknown"})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,n.jsx)("span",{className:"text-neutral-600",children:"Last Service"}),(0,n.jsx)("span",{className:"font-medium text-neutral-900",children:a})]})]}),(0,n.jsx)("div",{className:"p-3 border-t border-neutral-100 mt-auto",children:(0,n.jsx)("button",{className:"w-full py-1.5 text-xs font-medium text-primary-600 hover:bg-primary-50 rounded transition-colors border border-transparent hover:border-primary-200",children:"View Service Logs"})})]},e.id)})})]})}}}]);
//# sourceMappingURL=735.dd9d2d12.chunk.js.map