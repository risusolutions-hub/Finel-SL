{"version":3,"file":"static/js/844.085cfbd6.chunk.js","mappings":";6NAGe,SAASA,EAAYC,GAAmC,IAAlC,WAAEC,EAAa,GAAE,MAAEC,EAAQ,IAAIF,EAElE,MAAMG,GAAaC,EAAAA,EAAAA,SAAQ,KACzB,MAAMC,EAAS,GA6Df,OA3DAJ,EAAWK,QAAQC,IAES,IAADC,EA4BwCC,EAc+BC,EAAAC,EA1C5FJ,EAAUK,WACZP,EAAOQ,KAAK,CACVC,KAAM,oBACNC,UAAWR,EAAUK,UACrBI,KAAMC,EAAAA,EACNC,MAAO,OACPC,KAAM,SACNC,YAAY,cAADC,OAAgBd,EAAUe,WAAaf,EAAUgB,GAAE,YAC9DC,QAA0B,QAAnBhB,EAAED,EAAUkB,eAAO,IAAAjB,OAAA,EAAjBA,EAAmBkB,UAAU,EAAG,IACzCC,SAAU,UAKVpB,EAAUqB,YAAcrB,EAAUsB,UACpCxB,EAAOQ,KAAK,CACVC,KAAM,qBACNC,UAAWR,EAAUqB,WACrBZ,KAAMc,EAAAA,EACNZ,MAAO,SACPC,KAAM,SACNC,YAAY,eAADC,OAAiBd,EAAUsB,SAASE,MAC/CP,QAAQ,cAADH,OAAgBd,EAAUe,WAAaf,EAAUgB,IACxDI,SAAU,SAKVpB,EAAUyB,aAAoC,gBAArBzB,EAAU0B,SACrC5B,EAAOQ,KAAK,CACVC,KAAM,eACNC,UAAWR,EAAUyB,YACrBhB,KAAMkB,EAAAA,EACNhB,MAAO,QACPC,MAAwB,QAAlBV,EAAAF,EAAUsB,gBAAQ,IAAApB,OAAA,EAAlBA,EAAoBsB,OAAQ,WAClCX,YAAa,+BACbI,QAAQ,cAADH,OAAgBd,EAAUe,WAAaf,EAAUgB,IACxDI,SAAU,UAKVpB,EAAU4B,YAAoC,aAArB5B,EAAU0B,QAA8C,WAArB1B,EAAU0B,QACxE5B,EAAOQ,KAAK,CACVC,KAAM,qBACNC,UAAWR,EAAU4B,WACrBnB,KAAMoB,EAAAA,EACNlB,MAAO,UACPC,MAAwB,QAAlBT,EAAAH,EAAUsB,gBAAQ,IAAAnB,OAAA,EAAlBA,EAAoBqB,OAAQ,WAClCX,YAAa,qBACbI,QAAQ,GAADH,QAA4B,QAAvBV,EAAAJ,EAAU8B,qBAAa,IAAA1B,OAAA,EAAvBA,EAAyBe,UAAU,EAAG,MAAO,qBACzDC,SAAU,cAMTtB,EAAOiC,KAAK,CAACC,EAAGC,IAAM,IAAIC,KAAKD,EAAEzB,WAAa,IAAI0B,KAAKF,EAAExB,aAC/D,CAACd,IAEEyC,EAAc3B,IAClB,MAAM4B,EAAO,IAAIF,KAAK1B,GAChB6B,EAAM,IAAIH,KACVI,EAASD,EAAMD,EACfG,EAAWC,KAAKC,MAAMH,EAAS,KAC/BI,EAAYF,KAAKC,MAAMH,EAAS,MAChCK,EAAWH,KAAKC,MAAMH,EAAS,OAErC,OAAIC,EAAW,GAAU,GAANzB,OAAUyB,EAAQ,SACjCG,EAAY,GAAU,GAAN5B,OAAU4B,EAAS,SACnCC,EAAW,EAAS,GAAN7B,OAAU6B,EAAQ,SAE7BP,EAAKQ,mBAAmB,QAAS,CACtCC,MAAO,QACPC,IAAK,UACLC,KAAMX,EAAKY,gBAAkBX,EAAIW,cAAgB,eAAYC,KAI3DC,EAAkBA,CAACvC,EAAOS,KAC9B,MAAM+B,EAAW,CACfC,KAAM,4BACNC,OAAQ,gCACRC,MAAO,8BACPC,QAAS,mCAGLC,EAAY,CAChBC,KAAM,8BACNC,QAAS,gCACTC,QAAS,8BACTC,MAAO,8BAGT,MAAM,GAAN9C,OAAUqC,EAASxC,IAAUwC,EAASC,KAAI,KAAAtC,OAAI0C,EAAUpC,IAAaoC,EAAUC,OAGjF,OACEI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mEAAkEC,SAAA,EAC/EF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,2DAA0DC,SAAA,EACtEC,EAAAA,EAAAA,KAACC,EAAAA,EAAQ,CAACH,UAAU,YAAY,wBAGlCD,EAAAA,EAAAA,MAAA,QAAMC,UAAU,yEAAwEC,SAAA,CACrFnE,EAAWsE,OAAO,iBAIvBF,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SACvBnE,EAAWsE,OAAS,EACnBtE,EAAWuE,MAAM,EAAG,IAAIC,IAAI,CAACC,EAAUC,KACrC,MAAMC,EAAOF,EAAS5D,KACtB,OACEuD,EAAAA,EAAAA,KAAA,OAEEF,UAAS,kCAAAhD,OAAoCoC,EAC3CmB,EAAS1D,MACT0D,EAASjD,UACV,mCAAkC2C,UAEnCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uBAAsBC,UACnCC,EAAAA,EAAAA,KAAA,OAAKF,UAAS,kBAAAhD,OAAoBoC,EAAgBmB,EAAS1D,MAAO0D,EAASjD,WAAY2C,UACrFC,EAAAA,EAAAA,KAACO,EAAI,CAACT,UAAU,iBAIpBD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,uCAAsCC,SAChDM,EAASxD,cAEXwD,EAASpD,UACR+C,EAAAA,EAAAA,KAAA,KAAGF,UAAU,8BAA6BC,SAAEM,EAASpD,cAGzD+C,EAAAA,EAAAA,KAAA,QAAMF,UAAU,2CAA0CC,SACvD5B,EAAWkC,EAAS7D,iBAIzBqD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAC3CC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,sEAAqEC,SAClFM,EAASzD,QAEZoD,EAAAA,EAAAA,KAAA,QAAMF,UAAU,oEAAmEC,SAChFM,EAAS9D,KAAKiE,QAAQ,KAAM,iBAjChCF,MA0CXT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mEAAkEC,SAAA,EAC/EC,EAAAA,EAAAA,KAACC,EAAAA,EAAQ,CAACH,UAAU,2CACpBE,EAAAA,EAAAA,KAAA,KAAGF,UAAU,yBAAwBC,SAAC,sCAMlD,C,+BC5KO,MAgBDxC,GAAOkD,E,QAAAA,GAAiB,OAhBM,CAClC,CAAC,OAAQ,CAAEC,EAAG,4CAA6CC,IAAK,WAChE,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,IAAKC,EAAG,IAAKH,IAAK,Y","sources":["components/ActivityFeed.js","../node_modules/lucide-react/src/icons/user.ts"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Activity, User, Ticket, Clock, CheckCircle, AlertCircle } from 'lucide-react';\r\n\r\nexport default function ActivityFeed({ complaints = [], users = [] }) {\r\n  // Generate activity log from complaints\r\n  const activities = useMemo(() => {\r\n    const events = [];\r\n\r\n    complaints.forEach(complaint => {\r\n      // Complaint created\r\n      if (complaint.createdAt) {\r\n        events.push({\r\n          type: 'complaint_created',\r\n          timestamp: complaint.createdAt,\r\n          icon: Ticket,\r\n          color: 'blue',\r\n          user: 'System',\r\n          description: `Complaint #${complaint.displayId || complaint.id} created`,\r\n          details: complaint.problem?.substring(0, 80),\r\n          severity: 'info'\r\n        });\r\n      }\r\n\r\n      // Complaint assigned\r\n      if (complaint.assignedAt && complaint.engineer) {\r\n        events.push({\r\n          type: 'complaint_assigned',\r\n          timestamp: complaint.assignedAt,\r\n          icon: User,\r\n          color: 'purple',\r\n          user: 'System',\r\n          description: `Assigned to ${complaint.engineer.name}`,\r\n          details: `Complaint #${complaint.displayId || complaint.id}`,\r\n          severity: 'info'\r\n        });\r\n      }\r\n\r\n      // Work started\r\n      if (complaint.checkInTime && complaint.status === 'in_progress') {\r\n        events.push({\r\n          type: 'work_started',\r\n          timestamp: complaint.checkInTime,\r\n          icon: Clock,\r\n          color: 'amber',\r\n          user: complaint.engineer?.name || 'Engineer',\r\n          description: 'Started working on complaint',\r\n          details: `Complaint #${complaint.displayId || complaint.id}`,\r\n          severity: 'info'\r\n        });\r\n      }\r\n\r\n      // Complaint resolved\r\n      if (complaint.resolvedAt && (complaint.status === 'resolved' || complaint.status === 'closed')) {\r\n        events.push({\r\n          type: 'complaint_resolved',\r\n          timestamp: complaint.resolvedAt,\r\n          icon: CheckCircle,\r\n          color: 'emerald',\r\n          user: complaint.engineer?.name || 'Engineer',\r\n          description: 'Complaint resolved',\r\n          details: `${complaint.solutionNotes?.substring(0, 60) || 'Service completed'}`,\r\n          severity: 'success'\r\n        });\r\n      }\r\n    });\r\n\r\n    // Sort by most recent first\r\n    return events.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n  }, [complaints]);\r\n\r\n  const formatTime = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    \r\n    return date.toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\r\n    });\r\n  };\r\n\r\n  const getColorClasses = (color, severity) => {\r\n    const colorMap = {\r\n      blue: 'bg-blue-100 text-blue-700',\r\n      purple: 'bg-purple-100 text-purple-700',\r\n      amber: 'bg-amber-100 text-amber-700',\r\n      emerald: 'bg-emerald-100 text-emerald-700'\r\n    };\r\n\r\n    const borderMap = {\r\n      info: 'border-l-4 border-slate-300',\r\n      success: 'border-l-4 border-emerald-300',\r\n      warning: 'border-l-4 border-amber-300',\r\n      error: 'border-l-4 border-rose-300'\r\n    };\r\n\r\n    return `${colorMap[color] || colorMap.blue} ${borderMap[severity] || borderMap.info}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between pb-4 border-b border-slate-200\">\r\n        <h3 className=\"text-sm font-bold text-slate-900 flex items-center gap-2\">\r\n          <Activity className=\"w-5 h-5\" />\r\n          Activity Timeline\r\n        </h3>\r\n        <span className=\"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded-full font-medium\">\r\n          {activities.length} events\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"space-y-3\">\r\n        {activities.length > 0 ? (\r\n          activities.slice(0, 50).map((activity, idx) => {\r\n            const Icon = activity.icon;\r\n            return (\r\n              <div\r\n                key={idx}\r\n                className={`p-4 rounded-lg bg-white border ${getColorClasses(\r\n                  activity.color,\r\n                  activity.severity\r\n                )} transition-all hover:shadow-sm`}\r\n              >\r\n                <div className=\"flex gap-3\">\r\n                  <div className=\"flex-shrink-0 mt-0.5\">\r\n                    <div className={`p-2 rounded-lg ${getColorClasses(activity.color, activity.severity)}`}>\r\n                      <Icon className=\"w-4 h-4\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-start justify-between gap-2\">\r\n                      <div>\r\n                        <p className=\"text-sm font-semibold text-slate-900\">\r\n                          {activity.description}\r\n                        </p>\r\n                        {activity.details && (\r\n                          <p className=\"text-xs text-slate-600 mt-1\">{activity.details}</p>\r\n                        )}\r\n                      </div>\r\n                      <span className=\"text-xs text-slate-500 whitespace-nowrap\">\r\n                        {formatTime(activity.timestamp)}\r\n                      </span>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-2 mt-2\">\r\n                      <span className=\"text-xs font-medium text-slate-600 bg-slate-100 px-2 py-0.5 rounded\">\r\n                        {activity.user}\r\n                      </span>\r\n                      <span className=\"text-xs text-slate-500 capitalize px-2 py-0.5 bg-slate-50 rounded\">\r\n                        {activity.type.replace(/_/g, ' ')}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <div className=\"p-8 text-center border border-dashed border-slate-200 rounded-lg\">\r\n            <Activity className=\"w-12 h-12 mx-auto text-slate-300 mb-3\" />\r\n            <p className=\"text-sm text-slate-500\">No activities recorded yet</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n"],"names":["ActivityFeed","_ref","complaints","users","activities","useMemo","events","forEach","complaint","_complaint$problem","_complaint$engineer","_complaint$engineer2","_complaint$solutionNo","createdAt","push","type","timestamp","icon","Ticket","color","user","description","concat","displayId","id","details","problem","substring","severity","assignedAt","engineer","User","name","checkInTime","status","Clock","resolvedAt","CheckCircle","solutionNotes","sort","a","b","Date","formatTime","date","now","diffMs","diffMins","Math","floor","diffHours","diffDays","toLocaleDateString","month","day","year","getFullYear","undefined","getColorClasses","colorMap","blue","purple","amber","emerald","borderMap","info","success","warning","error","_jsxs","className","children","_jsx","Activity","length","slice","map","activity","idx","Icon","replace","createLucideIcon","d","key","cx","cy","r"],"ignoreList":[],"sourceRoot":""}