{"version":3,"file":"static/js/921.e5c4a9c7.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/file-check.ts","../node_modules/lucide-react/src/icons/circle.ts","../node_modules/lucide-react/src/icons/camera.ts","components/dashboard/ServiceChecklist.js","../node_modules/lucide-react/src/icons/circle-check.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z',\n      key: '1oefj6',\n    },\n  ],\n  ['path', { d: 'M14 2v5a1 1 0 0 0 1 1h5', key: 'wfsgrz' }],\n  ['path', { d: 'm9 15 2 2 4-4', key: '1grp1n' }],\n];\n\n/**\n * @component @name FileCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAyMmEyIDIgMCAwIDEtMi0yVjRhMiAyIDAgMCAxIDItMmg4YTIuNCAyLjQgMCAwIDEgMS43MDQuNzA2bDMuNTg4IDMuNTg4QTIuNCAyLjQgMCAwIDEgMjAgOHYxMmEyIDIgMCAwIDEtMiAyeiIgLz4KICA8cGF0aCBkPSJNMTQgMnY1YTEgMSAwIDAgMCAxIDFoNSIgLz4KICA8cGF0aCBkPSJtOSAxNSAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileCheck = createLucideIcon('file-check', __iconNode);\n\nexport default FileCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }]];\n\n/**\n * @component @name Circle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Circle = createLucideIcon('circle', __iconNode);\n\nexport default Circle;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z',\n      key: '18u6gg',\n    },\n  ],\n  ['circle', { cx: '12', cy: '13', r: '3', key: '1vg3eu' }],\n];\n\n/**\n * @component @name Camera\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMuOTk3IDRhMiAyIDAgMCAxIDEuNzYgMS4wNWwuNDg2LjlBMiAyIDAgMCAwIDE4LjAwMyA3SDIwYTIgMiAwIDAgMSAyIDJ2OWEyIDIgMCAwIDEtMiAySDRhMiAyIDAgMCAxLTItMlY5YTIgMiAwIDAgMSAyLTJoMS45OTdhMiAyIDAgMCAwIDEuNzU5LTEuMDQ4bC40ODktLjkwNEEyIDIgMCAwIDEgMTAuMDA0IDR6IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTMiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/camera\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Camera = createLucideIcon('camera', __iconNode);\n\nexport default Camera;\n","import React, { useState, useEffect } from 'react';\r\nimport { CheckCircle2, Circle, Camera, FileCheck, AlertCircle } from 'lucide-react';\r\nimport Loader from '../Loader';\r\n\r\nexport default function ServiceChecklist({ complaintId, isEngineer = false, isManager = false }) {\r\n  const [checklist, setChecklist] = useState(null);\r\n  const [templates, setTemplates] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedTemplate, setSelectedTemplate] = useState('');\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [photos, setPhotos] = useState([]);\r\n  const [reviewNotes, setReviewNotes] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadChecklist();\r\n    loadTemplates();\r\n  }, [complaintId]);\r\n\r\n  const loadChecklist = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`/api/checklists/complaints/${complaintId}`, {\r\n        credentials: 'include'\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setChecklist(data.checklist);\r\n      } else {\r\n        setChecklist(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading checklist:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadTemplates = async () => {\r\n    try {\r\n      const response = await fetch('/api/checklists/templates', { credentials: 'include' });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setTemplates(data.items || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading templates:', error);\r\n    }\r\n  };\r\n\r\n  const handleCreateChecklist = async () => {\r\n    if (!selectedTemplate) return;\r\n\r\n    try {\r\n      const response = await fetch('/api/checklists', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          complaintId,\r\n          checklistType: selectedTemplate,\r\n          items: templates.filter(t => t.name) // Get template items\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setChecklist(data.checklist);\r\n        setShowForm(false);\r\n        setSelectedTemplate('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating checklist:', error);\r\n    }\r\n  };\r\n\r\n  const handleToggleItem = async (itemId) => {\r\n    if (!checklist) return;\r\n\r\n    const updatedItems = checklist.items.map(item => {\r\n      if (item.id === itemId) {\r\n        return { ...item, completed: !item.completed };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    try {\r\n      const response = await fetch(`/api/checklists/${checklist.id}/items/${itemId}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          completed: updatedItems.find(i => i.id === itemId).completed\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setChecklist(data.checklist);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating item:', error);\r\n    }\r\n  };\r\n\r\n  const handleCompleteChecklist = async () => {\r\n    if (!checklist || !checklist.items.every(i => i.completed)) {\r\n      alert('All items must be completed first');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`/api/checklists/${checklist.id}/complete`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          photoEvidenceUrls: photos\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setChecklist(data.checklist);\r\n        alert('Checklist completed successfully!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error completing checklist:', error);\r\n    }\r\n  };\r\n\r\n  const handleReviewChecklist = async (approved) => {\r\n    try {\r\n      const response = await fetch(`/api/checklists/${checklist.id}/review`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          approved,\r\n          reviewNotes\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setChecklist(data.checklist);\r\n        setReviewNotes('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error reviewing checklist:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  const completedCount = checklist ? checklist.items.filter(i => i.completed).length : 0;\r\n  const totalCount = checklist ? checklist.items.length : 0;\r\n  const completionPercent = totalCount > 0 ? Math.round((completedCount / totalCount) * 100) : 0;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between pb-4 border-b border-slate-200\">\r\n        <div>\r\n          <h2 className=\"text-xl font-bold text-slate-900 flex items-center gap-2\">\r\n            <FileCheck size={24} className=\"text-blue-600\" />\r\n            Service Checklist\r\n          </h2>\r\n          <p className=\"text-sm text-slate-500\">Ensure all service requirements are met</p>\r\n        </div>\r\n      </div>\r\n\r\n      {!checklist ? (\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center\">\r\n          {!showForm ? (\r\n            <>\r\n              <p className=\"text-slate-700 mb-4\">No checklist created yet</p>\r\n              <button\r\n                onClick={() => setShowForm(true)}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\r\n              >\r\n                Create Checklist\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <div className=\"text-left space-y-4\">\r\n              <label className=\"block text-slate-700 font-bold\">Select Checklist Type</label>\r\n              <select\r\n                value={selectedTemplate}\r\n                onChange={(e) => setSelectedTemplate(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"\">Choose a template...</option>\r\n                <option value=\"Electrical Inspection\">Electrical Inspection</option>\r\n                <option value=\"Refrigeration Service\">Refrigeration Service</option>\r\n                <option value=\"HVAC Maintenance\">HVAC Maintenance</option>\r\n                <option value=\"Plumbing Service\">Plumbing Service</option>\r\n              </select>\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={handleCreateChecklist}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\r\n                >\r\n                  Create\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowForm(false)}\r\n                  className=\"flex-1 px-4 py-2 bg-slate-300 text-slate-700 rounded-lg hover:bg-slate-400 transition\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Progress Bar */}\r\n          <div>\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"font-bold text-slate-900\">{completedCount} of {totalCount} completed</p>\r\n              <span className=\"text-sm font-bold text-blue-600\">{completionPercent}%</span>\r\n            </div>\r\n            <div className=\"w-full bg-slate-200 rounded-full h-3\">\r\n              <div\r\n                className=\"bg-green-500 h-3 rounded-full transition-all\"\r\n                style={{ width: `${completionPercent}%` }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Checklist Type */}\r\n          <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-4\">\r\n            <p className=\"text-sm text-slate-600\">Type</p>\r\n            <p className=\"font-bold text-slate-900\">{checklist.checklistType}</p>\r\n          </div>\r\n\r\n          {/* Checklist Items */}\r\n          <div className=\"space-y-2\">\r\n            {checklist.items.map((item, idx) => (\r\n              <div\r\n                key={item.id || item._id || `chk-${idx}`}\r\n                className={`flex items-start gap-3 p-4 rounded-lg border transition ${\r\n                  item.completed\r\n                    ? 'bg-green-50 border-green-200'\r\n                    : 'bg-white border-slate-200 hover:border-slate-300'\r\n                }`}\r\n              >\r\n                <button\r\n                  onClick={() => isEngineer && handleToggleItem(item.id)}\r\n                  disabled={!isEngineer || checklist.isCompleted}\r\n                  className=\"mt-1 flex-shrink-0 cursor-pointer disabled:opacity-50\"\r\n                >\r\n                  {item.completed ? (\r\n                    <CheckCircle2 className=\"text-green-600\" size={24} />\r\n                  ) : (\r\n                    <Circle className=\"text-slate-400\" size={24} />\r\n                  )}\r\n                </button>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <p className={`font-medium ${item.completed ? 'text-green-700 line-through' : 'text-slate-900'}`}>\r\n                    {item.name}\r\n                  </p>\r\n                  {item.notes && (\r\n                    <p className=\"text-sm text-slate-600 mt-1\">{item.notes}</p>\r\n                  )}\r\n                  {item.completedAt && (\r\n                    <p className=\"text-xs text-slate-500 mt-1\">\r\n                      Completed: {new Date(item.completedAt).toLocaleString()}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Photo Evidence */}\r\n          {isEngineer && !checklist.isCompleted && (\r\n            <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-4\">\r\n              <label className=\"flex items-center gap-2 font-bold text-slate-900 mb-3\">\r\n                <Camera size={20} />\r\n                Photo Evidence\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                multiple\r\n                accept=\"image/*\"\r\n                onChange={(e) => setPhotos([...photos, ...Array.from(e.target.files)])}\r\n                className=\"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\r\n              />\r\n              {photos.length > 0 && (\r\n                <p className=\"text-sm text-slate-600 mt-2\">{photos.length} photo(s) selected</p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Action Buttons */}\r\n          {isEngineer && !checklist.isCompleted && (\r\n            <button\r\n              onClick={handleCompleteChecklist}\r\n              disabled={completionPercent < 100}\r\n              className=\"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition font-bold\"\r\n            >\r\n              Mark Checklist Complete\r\n            </button>\r\n          )}\r\n\r\n          {/* Manager Review */}\r\n          {isManager && checklist.isCompleted && !checklist.reviewedAt && (\r\n            <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-4 space-y-4\">\r\n              <div className=\"flex items-start gap-2\">\r\n                <AlertCircle className=\"text-amber-600 flex-shrink-0 mt-1\" size={20} />\r\n                <div>\r\n                  <p className=\"font-bold text-amber-900\">Pending Review</p>\r\n                  <p className=\"text-sm text-amber-700\">Completed by {checklist.completedBy?.name}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <textarea\r\n                value={reviewNotes}\r\n                onChange={(e) => setReviewNotes(e.target.value)}\r\n                placeholder=\"Add review notes...\"\r\n                className=\"w-full px-3 py-2 border border-amber-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500\"\r\n                rows=\"3\"\r\n              />\r\n\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={() => handleReviewChecklist(true)}\r\n                  className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition\"\r\n                >\r\n                  Approve\r\n                </button>\r\n                <button\r\n                  onClick={() => handleReviewChecklist(false)}\r\n                  className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition\"\r\n                >\r\n                  Request Changes\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Review Status */}\r\n          {checklist.reviewedAt && (\r\n            <div className={`border rounded-lg p-4 ${\r\n              checklist.status === 'approved'\r\n                ? 'bg-green-50 border-green-200'\r\n                : 'bg-yellow-50 border-yellow-200'\r\n            }`}>\r\n              <p className={`font-bold ${\r\n                checklist.status === 'approved'\r\n                  ? 'text-green-900'\r\n                  : 'text-yellow-900'\r\n              }`}>\r\n                {checklist.status === 'approved' ? 'Approved' : 'Needs Revision'}\r\n              </p>\r\n              {checklist.reviewNotes && (\r\n                <p className=\"text-sm mt-2\">{checklist.reviewNotes}</p>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('circle-check', __iconNode);\n\nexport default CircleCheck;\n"],"names":["FileCheck","createLucideIcon","d","key","Circle","cx","cy","r","Camera","ServiceChecklist","_ref","_checklist$completedB","complaintId","isEngineer","isManager","checklist","setChecklist","useState","templates","setTemplates","loading","setLoading","selectedTemplate","setSelectedTemplate","showForm","setShowForm","photos","setPhotos","reviewNotes","setReviewNotes","useEffect","loadChecklist","loadTemplates","async","response","fetch","concat","credentials","data","json","success","error","console","items","handleReviewChecklist","id","method","headers","body","JSON","stringify","approved","ok","_jsx","Loader","completedCount","filter","i","completed","length","totalCount","completionPercent","Math","round","_jsxs","className","children","size","_Fragment","style","width","checklistType","map","item","idx","onClick","updatedItems","itemId","_objectSpread","find","handleToggleItem","disabled","isCompleted","CheckCircle2","name","notes","completedAt","Date","toLocaleString","_id","type","multiple","accept","onChange","e","Array","from","target","files","every","photoEvidenceUrls","alert","reviewedAt","AlertCircle","completedBy","value","placeholder","rows","status","t","CircleCheck"],"ignoreList":[],"sourceRoot":""}