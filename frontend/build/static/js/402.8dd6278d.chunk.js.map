{"version":3,"file":"static/js/402.8dd6278d.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/trending-up.ts","../node_modules/lucide-react/src/icons/chart-pie.ts","components/dashboard/DashboardAnalyticsView.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 7h6v6', key: 'box55l' }],\n  ['path', { d: 'm22 7-8.5 8.5-5-5L2 17', key: '1t1m79' }],\n];\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgN2g2djYiIC8+CiAgPHBhdGggZD0ibTIyIDctOC41IDguNS01LTVMMiAxNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('trending-up', __iconNode);\n\nexport default TrendingUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z',\n      key: 'pzmjnu',\n    },\n  ],\n  ['path', { d: 'M21.21 15.89A10 10 0 1 1 8 2.83', key: 'k2fpak' }],\n];\n\n/**\n * @component @name ChartPie\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJjLjU1MiAwIDEuMDA1LS40NDkuOTUtLjk5OGExMCAxMCAwIDAgMC04Ljk1My04Ljk1MWMtLjU1LS4wNTUtLjk5OC4zOTgtLjk5OC45NXY4YTEgMSAwIDAgMCAxIDF6IiAvPgogIDxwYXRoIGQ9Ik0yMS4yMSAxNS44OUExMCAxMCAwIDEgMSA4IDIuODMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chart-pie\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChartPie = createLucideIcon('chart-pie', __iconNode);\n\nexport default ChartPie;\n","import React, { useMemo } from 'react';\r\nimport { BarChart3, PieChart, TrendingUp, Plus } from 'lucide-react';\r\n\r\n// Simple Chart Components (no external dependencies needed for MVP)\r\nconst PieChartSimple = ({ data, colors }) => {\r\n  const total = data.reduce((sum, d) => sum + d.value, 0);\r\n  let currentAngle = 0;\r\n\r\n  const slices = data.map((item, idx) => {\r\n    const sliceAngle = (item.value / total) * 360;\r\n    const startAngle = currentAngle;\r\n    const endAngle = currentAngle + sliceAngle;\r\n    currentAngle = endAngle;\r\n\r\n    const x1 = 50 + 40 * Math.cos((startAngle * Math.PI) / 180);\r\n    const y1 = 50 + 40 * Math.sin((startAngle * Math.PI) / 180);\r\n    const x2 = 50 + 40 * Math.cos((endAngle * Math.PI) / 180);\r\n    const y2 = 50 + 40 * Math.sin((endAngle * Math.PI) / 180);\r\n\r\n    const largeArc = sliceAngle > 180 ? 1 : 0;\r\n\r\n    return (\r\n      <path\r\n        key={idx}\r\n        d={`M 50 50 L ${x1} ${y1} A 40 40 0 ${largeArc} 1 ${x2} ${y2} Z`}\r\n        fill={colors[idx % colors.length]}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className=\"w-full h-full\">\r\n      {slices}\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst BarChartSimple = ({ data, colors }) => {\r\n  const max = Math.max(...data.map(d => d.value));\r\n  const barWidth = 100 / data.length;\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 400 200\" className=\"w-full h-full\">\r\n      {/* Grid lines */}\r\n      {[0, 0.25, 0.5, 0.75, 1].map((v, idx) => (\r\n        <line\r\n          key={`grid-${idx}`}\r\n          x1=\"30\"\r\n          y1={200 - v * 150 - 20}\r\n          x2=\"390\"\r\n          y2={200 - v * 150 - 20}\r\n          stroke=\"#e2e8f0\"\r\n          strokeWidth=\"1\"\r\n        />\r\n      ))}\r\n\r\n      {/* Bars */}\r\n      {data.map((item, idx) => {\r\n        const height = (item.value / max) * 150;\r\n        const x = 35 + idx * ((360 / data.length) + 5);\r\n        const y = 200 - height - 20;\r\n\r\n        return (\r\n          <g key={idx}>\r\n            <rect\r\n              x={x}\r\n              y={y}\r\n              width={360 / data.length - 5}\r\n              height={height}\r\n              fill={colors[idx % colors.length]}\r\n              rx=\"4\"\r\n            />\r\n            <text\r\n              x={x + (360 / data.length - 5) / 2}\r\n              y=\"195\"\r\n              textAnchor=\"middle\"\r\n              fontSize=\"12\"\r\n              fill=\"#64748b\"\r\n            >\r\n              {item.value}\r\n            </text>\r\n          </g>\r\n        );\r\n      })}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default function DashboardAnalytics({ complaints = [], users = [], setModal, user }) {\r\n  // Helper function must be defined before useMemo\r\n  const calculateAvgResolutionTime = (data) => {\r\n    const resolved = data.filter(c => c.resolvedAt && c.createdAt);\r\n    if (resolved.length === 0) return 0;\r\n    const total = resolved.reduce((sum, c) => {\r\n      const diff = new Date(c.resolvedAt) - new Date(c.createdAt);\r\n      return sum + diff;\r\n    }, 0);\r\n    const hours = Math.round(total / resolved.length / (1000 * 60 * 60));\r\n    return hours;\r\n  };\r\n\r\n  const analytics = useMemo(() => {\r\n    // Status breakdown\r\n    const statusCounts = complaints.reduce((acc, c) => {\r\n      const status = c.status || 'pending';\r\n      acc[status] = (acc[status] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n\r\n    // Priority breakdown\r\n    const priorityCounts = complaints.reduce((acc, c) => {\r\n      const priority = c.priority || 'medium';\r\n      acc[priority] = (acc[priority] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n\r\n    // Engineer performance\r\n    const engineerStats = users\r\n      .filter(u => u.role === 'engineer')\r\n      .map(engineer => {\r\n        const resolvedCount = complaints.filter(\r\n          c => c.assignedTo === String(engineer.id) && (c.status === 'resolved' || c.status === 'closed')\r\n        ).length;\r\n        return {\r\n          name: engineer.name,\r\n          resolved: resolvedCount,\r\n          id: engineer.id\r\n        };\r\n      })\r\n      .sort((a, b) => b.resolved - a.resolved)\r\n      .slice(0, 8);\r\n\r\n    // Daily resolution rate (simulated last 7 days)\r\n    const dailyResolutions = Array.from({ length: 7 }, (_, i) => {\r\n      const daysAgo = 6 - i;\r\n      const date = new Date();\r\n      date.setDate(date.getDate() - daysAgo);\r\n      const dayStr = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n      \r\n      const count = complaints.filter(c => {\r\n        if (!c.resolvedAt) return false;\r\n        const resolvedDate = new Date(c.resolvedAt).toLocaleDateString();\r\n        const checkDate = date.toLocaleDateString();\r\n        return resolvedDate === checkDate && (c.status === 'resolved' || c.status === 'closed');\r\n      }).length;\r\n\r\n      return { date: dayStr, value: count };\r\n    });\r\n\r\n    // SLA compliance (simulated: complaints resolved within 24 hours)\r\n    const slaCompliant = complaints.filter(c => {\r\n      if (!c.resolvedAt || !c.createdAt) return false;\r\n      const diff = new Date(c.resolvedAt) - new Date(c.createdAt);\r\n      return diff <= 24 * 60 * 60 * 1000; // 24 hours\r\n    }).length;\r\n    const slaCompliance = complaints.length > 0 ? ((slaCompliant / complaints.length) * 100).toFixed(1) : 0;\r\n\r\n    return {\r\n      statusCounts,\r\n      priorityCounts,\r\n      engineerStats,\r\n      dailyResolutions,\r\n      slaCompliance,\r\n      totalComplaints: complaints.length,\r\n      avgResolutionTime: calculateAvgResolutionTime(complaints)\r\n    };\r\n  }, [complaints, users]);\r\n\r\n  const statusColors = {\r\n    pending: '#f59e0b',\r\n    assigned: '#3b82f6',\r\n    in_progress: '#8b5cf6',\r\n    resolved: '#10b981',\r\n    closed: '#6b7280'\r\n  };\r\n\r\n  const priorityColors = {\r\n    low: '#10b981',\r\n    medium: '#3b82f6',\r\n    high: '#f59e0b',\r\n    critical: '#ef4444'\r\n  };\r\n\r\n  const chartColors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899'];\r\n\r\n  const statusData = Object.entries(analytics.statusCounts).map(([status, count]) => ({\r\n    name: status.charAt(0).toUpperCase() + status.slice(1),\r\n    value: count,\r\n    color: statusColors[status]\r\n  }));\r\n\r\n  const priorityData = Object.entries(analytics.priorityCounts).map(([priority, count]) => ({\r\n    name: priority.charAt(0).toUpperCase() + priority.slice(1),\r\n    value: count,\r\n    color: priorityColors[priority]\r\n  }));\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between pb-4 border-b border-neutral-200\">\r\n        <div>\r\n          <h2 className=\"text-xl font-bold text-neutral-900\">Analytics & Insights</h2>\r\n          <p className=\"text-sm text-neutral-600\">Real-time service metrics and performance tracking</p>\r\n        </div>\r\n        {(user?.role !== 'engineer') && (\r\n          <button \r\n            onClick={() => setModal('complaint')} \r\n            className=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-xs font-medium flex items-center gap-2 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 transition-colors shadow-sm\"\r\n            title=\"Create New Ticket\"\r\n          >\r\n            <Plus className=\"w-4 h-4\" />\r\n            <span className=\"hidden sm:inline\">New Ticket</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* KPI Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white rounded-lg border border-neutral-200 p-4 shadow-sm\">\r\n          <p className=\"text-xs font-bold text-neutral-600 uppercase mb-2\">Total Tickets</p>\r\n          <p className=\"text-3xl font-bold text-neutral-900\">{analytics.totalComplaints}</p>\r\n          <p className=\"text-xs text-neutral-600 mt-2\">All time</p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg border border-neutral-200 p-4 shadow-sm\">\r\n          <p className=\"text-xs font-bold text-neutral-600 uppercase mb-2\">SLA Compliance</p>\r\n          <p className=\"text-3xl font-bold text-emerald-600\">{analytics.slaCompliance}%</p>\r\n          <p className=\"text-xs text-neutral-600 mt-2\">Within 24 hours</p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg border border-neutral-200 p-4 shadow-sm\">\r\n          <p className=\"text-xs font-bold text-neutral-600 uppercase mb-2\">Avg Resolution</p>\r\n          <p className=\"text-3xl font-bold text-neutral-900\">{analytics.avgResolutionTime}h</p>\r\n          <p className=\"text-xs text-neutral-600 mt-2\">Average hours</p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg border border-neutral-200 p-4 shadow-sm\">\r\n          <p className=\"text-xs font-bold text-neutral-600 uppercase mb-2\">Open Tickets</p>\r\n          <p className=\"text-3xl font-bold text-amber-600\">\r\n            {(analytics.statusCounts.pending || 0) + (analytics.statusCounts.assigned || 0) + (analytics.statusCounts.in_progress || 0)}\r\n          </p>\r\n          <p className=\"text-xs text-neutral-600 mt-2\">Awaiting resolution</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts Grid */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Status Breakdown */}\r\n        <div className=\"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm\">\r\n          <h3 className=\"text-sm font-bold text-neutral-900 mb-4 flex items-center gap-2\">\r\n            <PieChart className=\"w-4 h-4\" />\r\n            Ticket Status Distribution\r\n          </h3>\r\n          <div className=\"flex items-center gap-6\">\r\n            <div className=\"w-32 h-32\">\r\n              <PieChartSimple\r\n                data={statusData}\r\n                colors={statusData.map(d => d.color)}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2 flex-1\">\r\n              {statusData.map((item, idx) => (\r\n                <div key={idx} className=\"flex items-center justify-between text-sm\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div\r\n                      className=\"w-3 h-3 rounded-full\"\r\n                      style={{ backgroundColor: item.color }}\r\n                    ></div>\r\n                    <span className=\"text-neutral-800\">{item.name}</span>\r\n                  </div>\r\n                  <span className=\"font-bold text-neutral-900\">{item.value}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Priority Breakdown */}\r\n        <div className=\"bg-white rounded-lg border border-slate-200 p-6 shadow-sm\">\r\n          <h3 className=\"text-sm font-bold text-slate-900 mb-4 flex items-center gap-2\">\r\n            <BarChart3 className=\"w-4 h-4\" />\r\n            Priority Breakdown\r\n          </h3>\r\n          <div className=\"h-40\">\r\n            <BarChartSimple\r\n              data={priorityData}\r\n              colors={priorityData.map(d => d.color)}\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-center gap-4 mt-4 text-xs\">\r\n            {priorityData.map((item, idx) => (\r\n              <div key={idx} className=\"text-center\">\r\n                <div className=\"font-bold text-neutral-900\">{item.value}</div>\r\n                <div className=\"text-neutral-600\">{item.name}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Daily Resolution Trend */}\r\n      <div className=\"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm\">\r\n        <h3 className=\"text-sm font-bold text-neutral-900 mb-4 flex items-center gap-2\">\r\n          <TrendingUp className=\"w-4 h-4\" />\r\n          Resolution Trend (Last 7 Days)\r\n        </h3>\r\n        <div className=\"h-40 flex items-end gap-2\">\r\n          {analytics.dailyResolutions.map((day, idx) => (\r\n            <div key={idx} className=\"flex-1 flex flex-col items-center\">\r\n              <div className=\"w-full bg-blue-600 rounded-t\" style={{ height: `${Math.max(day.value * 20, 10)}px` }}></div>\r\n              <span className=\"text-xs text-neutral-600 mt-2\">{day.value}</span>\r\n              <span className=\"text-xs font-medium text-neutral-800\">{day.date}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Top Engineers */}\r\n      <div className=\"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm\">\r\n        <h3 className=\"text-sm font-bold text-neutral-900 mb-4\">Top Performing Engineers</h3>\r\n        <div className=\"space-y-2\">\r\n          {analytics.engineerStats.map((eng, idx) => (\r\n            <div key={eng.id} className=\"flex items-center justify-between p-3 bg-slate-50 rounded\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <span className=\"font-bold text-slate-400 text-sm\">#{idx + 1}</span>\r\n                <span className=\"font-medium text-slate-900\">{eng.name}</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"w-32 h-6 bg-slate-200 rounded overflow-hidden\">\r\n                  <div\r\n                    className=\"h-full bg-emerald-600\"\r\n                    style={{\r\n                      width: `${(eng.resolved / Math.max(...analytics.engineerStats.map(e => e.resolved), 1)) * 100}%`\r\n                    }}\r\n                  ></div>\r\n                </div>\r\n                <span className=\"font-bold text-slate-900 text-sm min-w-10 text-right\">{eng.resolved}</span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["TrendingUp","createLucideIcon","d","key","ChartPie","PieChartSimple","_ref","data","colors","total","reduce","sum","value","currentAngle","slices","map","item","idx","sliceAngle","startAngle","endAngle","x1","Math","cos","PI","y1","sin","x2","y2","largeArc","_jsx","concat","fill","length","viewBox","className","children","BarChartSimple","_ref2","max","_jsxs","v","stroke","strokeWidth","height","x","y","width","rx","textAnchor","fontSize","DashboardAnalytics","_ref3","complaints","users","setModal","user","calculateAvgResolutionTime","resolved","filter","c","resolvedAt","createdAt","Date","round","analytics","useMemo","statusCounts","acc","status","priorityCounts","priority","engineerStats","u","role","engineer","resolvedCount","assignedTo","String","id","name","sort","a","b","slice","dailyResolutions","Array","from","_","i","daysAgo","date","setDate","getDate","toLocaleDateString","month","day","slaCompliant","slaCompliance","toFixed","totalComplaints","avgResolutionTime","statusColors","pending","assigned","in_progress","closed","priorityColors","low","medium","high","critical","statusData","Object","entries","_ref4","count","charAt","toUpperCase","color","priorityData","_ref5","onClick","title","Plus","PieChart","style","backgroundColor","BarChart3","eng","e"],"ignoreList":[],"sourceRoot":""}