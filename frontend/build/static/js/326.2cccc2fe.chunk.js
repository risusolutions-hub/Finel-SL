/*! For license information please see 326.2cccc2fe.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrole_based_frontend=self.webpackChunkrole_based_frontend||[]).push([[326],{5326(e,s,t){t.r(s),t.d(s,{default:()=>p});t(5043);var n=t(7819),l=t(5228);const a=(0,l.A)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var r=t(6833),d=t(8280),i=t(1360),c=t(579);function o(e){let{label:s,value:t,Icon:n,color:l,bg:a}=e;return(0,c.jsx)("div",{className:"bg-white p-5 rounded-lg border border-neutral-200 shadow-sm hover:shadow-md transition-shadow",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-neutral-500 text-sm font-medium",children:s}),(0,c.jsx)("h4",{className:"text-3xl font-bold text-neutral-900 mt-2",children:t})]}),(0,c.jsx)("div",{className:"p-3 rounded-md ".concat(a," ").concat(l),children:(0,c.jsx)(n,{className:"w-6 h-6"})})]})})}var x=t(6327);const h=(0,l.A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),m=(0,l.A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);function u(e){let{engineers:s}=e;return(0,c.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-neutral-200 shadow-sm",children:[(0,c.jsxs)("h3",{className:"text-lg font-bold text-neutral-900 mb-4 flex items-center gap-2",children:[(0,c.jsx)(h,{className:"w-5 h-5 text-indigo-600"})," Engineer Status"]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.map(e=>(0,c.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-neutral-100 bg-neutral-50",children:[(0,c.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 ".concat(e.isCheckedIn?"busy"===e.status?"bg-red-500":"bg-green-500":"bg-gray-300")}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("div",{className:"font-medium text-neutral-900",children:e.name}),(0,c.jsx)("div",{className:"text-xs text-neutral-500",children:e.isCheckedIn?"busy"===e.status?"Busy":"Free":"Offline"})]}),e.isCheckedIn?"busy"===e.status?(0,c.jsx)(m,{className:"w-4 h-4 text-red-500"}):(0,c.jsx)(h,{className:"w-4 h-4 text-green-500"}):(0,c.jsx)("span",{className:"text-xs text-gray-400",children:"-"})]},e.id)),0===s.length&&(0,c.jsx)("div",{className:"text-center text-gray-400 col-span-2",children:"No engineers found"})]})]})}function p(e){let{complaints:s,customers:t,machines:l,setCurrentView:h,setModal:m,user:p,engineers:g}=e;const v={new:s.filter(e=>"pending"===e.status).length,active:s.filter(e=>["assigned","in_progress"].includes(e.status)).length,resolved:s.filter(e=>["resolved","closed"].includes(e.status)).length,machines:l.length},y={pending:"New",assigned:"Assigned",in_progress:"In Progress",resolved:"Resolved",closed:"Closed"};return(0,c.jsxs)("div",{className:"fade-in space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,c.jsx)(o,{label:"Open Tickets",value:v.new,Icon:n.A,color:"text-error-600",bg:"bg-error-50"}),(0,c.jsx)(o,{label:"Active Service",value:v.active,Icon:a,color:"text-primary-600",bg:"bg-primary-50"}),(0,c.jsx)(o,{label:"Resolved (30d)",value:v.resolved,Icon:r.A,color:"text-success-600",bg:"bg-success-50"}),(0,c.jsx)(o,{label:"Fleet Size",value:v.machines,Icon:d.A,color:"text-secondary-600",bg:"bg-secondary-50"})]}),(0,c.jsx)(u,{engineers:g||[]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm overflow-hidden",children:[(0,c.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 flex justify-between items-center bg-neutral-50",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-semibold text-neutral-900 text-sm",children:"Recent Activity"}),(0,c.jsxs)("p",{className:"text-xs text-neutral-600 mt-1",children:[s.length," active tickets"]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:["engineer"!==(null===p||void 0===p?void 0:p.role)&&(0,c.jsxs)("button",{onClick:()=>m("complaint"),className:"bg-indigo-600 text-white px-3 py-2 rounded-md text-xs font-medium flex items-center gap-2 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 transition-colors shadow-sm",title:"Create New Ticket",children:[(0,c.jsx)(i.A,{className:"w-4 h-4"}),(0,c.jsx)("span",{className:"hidden sm:inline",children:"New"})]}),(0,c.jsx)("button",{onClick:()=>h("complaints"),className:"text-xs font-medium text-primary-600 hover:text-primary-700 transition-colors",children:"View All \u2192"})]})]}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,c.jsx)("thead",{className:"bg-neutral-50 text-neutral-700 text-xs font-semibold uppercase tracking-wider border-b border-neutral-200",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3",children:"Ticket ID"}),(0,c.jsx)("th",{className:"px-6 py-3",children:"Client"}),(0,c.jsx)("th",{className:"px-6 py-3",children:"Machine"}),(0,c.jsx)("th",{className:"px-6 py-3",children:"Status"})]})}),(0,c.jsxs)("tbody",{className:"divide-y divide-neutral-100",children:[s.slice(0,5).map((e,s)=>{const n=e=>e&&String(e).trim()&&"undefined"!==String(e)?String(e):null,a=n(e.customerId),r=n(e.machineId),d=t.find(e=>(n(e.id)||n(e._id))===a),i=l.find(e=>(n(e.id)||n(e._id))===r),o=n(e.id)||n(e._id)||n(e.complaintId)||"ov-".concat(s),h=e.displayId||e.complaintId||(n(e.id)?"#".concat(n(e.id)):"#".concat(s));return(0,c.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,c.jsx)("td",{className:"px-6 py-4 font-mono text-xs text-primary-600 font-medium",children:h}),(0,c.jsxs)("td",{className:"px-6 py-4",children:[(0,c.jsx)("div",{className:"font-medium text-neutral-900",children:(null===d||void 0===d?void 0:d.company)||(null===d||void 0===d?void 0:d.name)||"Unknown"}),(0,c.jsx)("div",{className:"text-xs text-neutral-500 mt-0.5",children:(null===d||void 0===d?void 0:d.serviceNo)||"ID: ".concat(d?n(d.id)||n(d._id):"N/A")})]}),(0,c.jsxs)("td",{className:"px-6 py-4",children:[(0,c.jsx)("div",{className:"text-neutral-800 font-medium",children:(null===i||void 0===i?void 0:i.model)||"-"}),(0,c.jsx)("div",{className:"text-xs text-neutral-500 font-mono mt-0.5",children:(null===i||void 0===i?void 0:i.serialNumber)||"-"})]}),(0,c.jsx)("td",{className:"px-6 py-4",children:(0,c.jsx)(x.A,{status:y[e.status]||e.status})})]},o)}),0===s.length&&(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:"4",className:"px-6 py-12 text-center text-neutral-400 italic",children:"No tickets found"})})]})]})})]})]})}},6327(e,s,t){t.d(s,{A:()=>a});t(5043);var n=t(8783),l=t(579);function a(e){let{status:s}=e;const t=n.M2[s]||{label:s,color:"bg-neutral-100 text-neutral-700 border border-neutral-200"};return(0,l.jsx)("span",{className:"px-2.5 py-1 rounded-md text-xs font-semibold uppercase tracking-wide border ".concat(t.color),children:t.label})}},6833(e,s,t){t.d(s,{A:()=>n});const n=(0,t(5228).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},8280(e,s,t){t.d(s,{A:()=>n});const n=(0,t(5228).A)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]])}}]);
//# sourceMappingURL=326.2cccc2fe.chunk.js.map