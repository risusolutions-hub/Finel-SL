{"version":3,"file":"static/js/439.70591ec7.chunk.js","mappings":"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","sources":["components/dashboard/LeaveManagementView.js","../node_modules/lucide-react/src/icons/circle-x.ts"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Clock, CheckCircle, XCircle, Calendar, Plus } from 'lucide-react';\r\nimport api from '../../api';\r\n\r\nexport default function LeaveManagementView({ leaves, user, onApprove, onReject, onRefresh, setModal }) {\r\n  const [selectedLeave, setSelectedLeave] = useState(null);\r\n  const [approvalNotes, setApprovalNotes] = useState('');\r\n  const [loadingId, setLoadingId] = useState(null);\r\n\r\n  const handleApprove = async (leaveId) => {\r\n    setLoadingId(leaveId);\r\n    try {\r\n      const response = await api.post(`/leaves/${leaveId}/approve`, { \r\n        approvalNotes: approvalNotes \r\n      });\r\n      setApprovalNotes('');\r\n      setSelectedLeave(null);\r\n      onApprove(response.data);\r\n      onRefresh();\r\n    } catch (err) {\r\n      alert('Error approving leave: ' + (err.response?.data?.error || err.message));\r\n    } finally {\r\n      setLoadingId(null);\r\n    }\r\n  };\r\n\r\n  const handleReject = async (leaveId) => {\r\n    setLoadingId(leaveId);\r\n    try {\r\n      const response = await api.post(`/leaves/${leaveId}/reject`, { \r\n        approvalNotes: approvalNotes \r\n      });\r\n      setApprovalNotes('');\r\n      setSelectedLeave(null);\r\n      onReject(response.data);\r\n      onRefresh();\r\n    } catch (err) {\r\n      alert('Error rejecting leave: ' + (err.response?.data?.error || err.message));\r\n    } finally {\r\n      setLoadingId(null);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\r\n  };\r\n\r\n  const pendingLeaves = leaves.filter(l => l.status === 'pending');\r\n  const approvedLeaves = leaves.filter(l => l.status === 'approved');\r\n  const rejectedLeaves = leaves.filter(l => l.status === 'rejected');\r\n\r\n  const statusBadge = (status) => {\r\n    switch (status) {\r\n      case 'pending':\r\n        return <span className=\"px-2.5 py-0.5 bg-amber-50 text-amber-700 border border-amber-200 rounded text-xs font-medium uppercase tracking-wide\">Pending</span>;\r\n      case 'approved':\r\n        return <span className=\"px-2.5 py-0.5 bg-emerald-50 text-emerald-700 border border-emerald-200 rounded text-xs font-medium uppercase tracking-wide\">Approved</span>;\r\n      case 'rejected':\r\n        return <span className=\"px-2.5 py-0.5 bg-rose-50 text-rose-700 border border-rose-200 rounded text-xs font-medium uppercase tracking-wide\">Rejected</span>;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const LeaveTable = ({ tableLeaves, showActions }) => (\r\n    <div className=\"overflow-x-auto\">\r\n      <table className=\"w-full text-left text-sm\">\r\n        <thead className=\"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-200\">\r\n          <tr>\r\n            <th className=\"px-6 py-3 font-semibold tracking-wider\">Engineer</th>\r\n            <th className=\"px-6 py-3 font-semibold tracking-wider\">Type</th>\r\n            <th className=\"px-6 py-3 font-semibold tracking-wider\">Period</th>\r\n            <th className=\"px-6 py-3 font-semibold tracking-wider\">Days</th>\r\n            <th className=\"px-6 py-3 font-semibold tracking-wider\">Reason</th>\r\n            <th className=\"px-6 py-3 font-semibold tracking-wider\">Status</th>\r\n            {showActions && <th className=\"px-6 py-3 font-semibold tracking-wider text-right\">Actions</th>}\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"divide-y divide-slate-100\">\r\n          {tableLeaves.length > 0 ? (\r\n            tableLeaves.map(leave => (\r\n              <tr key={leave.id} className=\"hover:bg-slate-50\">\r\n                <td className=\"px-6 py-3\">\r\n                  <div className=\"font-semibold text-slate-900\">{leave.engineer?.name || 'N/A'}</div>\r\n                  <div className=\"text-xs text-slate-400\">{leave.engineer?.email}</div>\r\n                </td>\r\n                <td className=\"px-6 py-3\">\r\n                  <span className=\"font-semibold text-slate-600 capitalize\">{leave.leaveType}</span>\r\n                </td>\r\n                <td className=\"px-6 py-3\">\r\n                  <div className=\"flex flex-col text-xs\">\r\n                    <span className=\"font-medium text-slate-700\">{formatDate(leave.startDate)}</span>\r\n                    <span className=\"text-slate-400\">to {formatDate(leave.endDate)}</span>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-6 py-3\">\r\n                  <span className=\"font-bold text-slate-900\">{leave.numDays}</span>\r\n                  <span className=\"text-xs text-slate-500 ml-1\">days</span>\r\n                </td>\r\n                <td className=\"px-6 py-3 max-w-xs\">\r\n                  <p className=\"text-slate-600 truncate text-xs\" title={leave.reason}>{leave.reason}</p>\r\n                </td>\r\n                <td className=\"px-6 py-3\">\r\n                  {statusBadge(leave.status)}\r\n                </td>\r\n                {showActions && (\r\n                  <td className=\"px-6 py-3 text-right\">\r\n                    <button\r\n                      onClick={() => setSelectedLeave(leave)}\r\n                      className=\"px-3 py-1 bg-white border border-slate-200 text-slate-700 text-xs font-semibold rounded hover:bg-slate-50 hover:text-blue-600 hover:border-blue-200 transition-all\"\r\n                    >\r\n                      Review\r\n                    </button>\r\n                  </td>\r\n                )}\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan={showActions ? 7 : 6} className=\"px-6 py-8 text-center text-slate-400 italic\">\r\n                No leave requests found\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between pb-4 border-b border-slate-200\">\r\n        <div>\r\n          <h2 className=\"text-xl font-bold text-slate-900\">Leave Management</h2>\r\n          <p className=\"text-sm text-slate-500\">Review and manage engineer time-off requests</p>\r\n        </div>\r\n        {setModal && (user?.role !== 'engineer') && (\r\n          <button \r\n            onClick={() => setModal('complaint')} \r\n            className=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-xs font-medium flex items-center gap-2 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 transition-colors shadow-sm\"\r\n            title=\"Create New Ticket\"\r\n          >\r\n            <Plus className=\"w-4 h-4\" />\r\n            <span className=\"hidden sm:inline\">New Ticket</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Pending Leaves */}\r\n      <div className=\"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden\">\r\n        <div className=\"px-6 py-4 border-b border-slate-200 bg-amber-50/30 flex justify-between items-center\">\r\n          <h3 className=\"font-bold text-slate-900 text-sm uppercase flex items-center gap-2\">\r\n            <Clock className=\"w-4 h-4 text-amber-600\" />\r\n            Pending Requests\r\n          </h3>\r\n          <span className=\"text-xs font-mono font-bold bg-white border border-slate-200 px-2 py-0.5 rounded text-slate-600\">\r\n             {pendingLeaves.length}\r\n          </span>\r\n        </div>\r\n        <LeaveTable tableLeaves={pendingLeaves} showActions={true} />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {/* Approved Leaves */}\r\n        <div className=\"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden\">\r\n          <div className=\"px-6 py-4 border-b border-slate-200 bg-emerald-50/30 flex justify-between items-center\">\r\n            <h3 className=\"font-bold text-slate-900 text-sm uppercase flex items-center gap-2\">\r\n              <CheckCircle className=\"w-4 h-4 text-emerald-600\" />\r\n              Approved History\r\n            </h3>\r\n            <span className=\"text-xs font-mono font-bold bg-white border border-slate-200 px-2 py-0.5 rounded text-slate-600\">\r\n               {approvedLeaves.length}\r\n            </span>\r\n          </div>\r\n          <LeaveTable tableLeaves={approvedLeaves} showActions={false} />\r\n        </div>\r\n\r\n        {/* Rejected Leaves */}\r\n        <div className=\"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden\">\r\n          <div className=\"px-6 py-4 border-b border-slate-200 bg-rose-50/30 flex justify-between items-center\">\r\n            <h3 className=\"font-bold text-slate-900 text-sm uppercase flex items-center gap-2\">\r\n              <XCircle className=\"w-4 h-4 text-rose-600\" />\r\n              Rejected History\r\n            </h3>\r\n            <span className=\"text-xs font-mono font-bold bg-white border border-slate-200 px-2 py-0.5 rounded text-slate-600\">\r\n               {rejectedLeaves.length}\r\n            </span>\r\n          </div>\r\n          <LeaveTable tableLeaves={rejectedLeaves} showActions={false} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Review Modal */}\r\n      {selectedLeave && (\r\n        <div className=\"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full border border-slate-200\">\r\n            <div className=\"px-6 py-4 border-b border-slate-200 flex justify-between items-center bg-slate-50 rounded-t-lg\">\r\n              <h3 className=\"text-sm font-bold text-slate-900 uppercase tracking-wide\">Review Leave Request</h3>\r\n              <button onClick={() => setSelectedLeave(null)} className=\"text-slate-400 hover:text-slate-600\">\r\n                <XCircle className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <p className=\"text-xs text-slate-500 uppercase font-bold mb-1\">Engineer</p>\r\n                  <p className=\"font-bold text-slate-900 text-sm\">{selectedLeave.engineer?.name}</p>\r\n                </div>\r\n\r\n                <div>\r\n                  <p className=\"text-xs text-slate-500 uppercase font-bold mb-1\">Leave Type</p>\r\n                  <p className=\"font-bold text-slate-900 text-sm capitalize\">{selectedLeave.leaveType}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-slate-50 p-3 rounded border border-slate-200\">\r\n                <p className=\"text-xs text-slate-500 uppercase font-bold mb-1\">Requested Period</p>\r\n                <div className=\"flex justify-between items-end\">\r\n                  <p className=\"font-bold text-slate-900 text-sm\">\r\n                    {formatDate(selectedLeave.startDate)} - {formatDate(selectedLeave.endDate)}\r\n                  </p>\r\n                  <span className=\"text-xs font-bold bg-blue-100 text-blue-700 px-2 py-0.5 rounded\">\r\n                    {selectedLeave.numDays} Days\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <p className=\"text-xs text-slate-500 uppercase font-bold mb-1\">Reason provided</p>\r\n                <div className=\"p-3 bg-slate-50 border border-slate-200 rounded text-sm text-slate-700 italic\">\r\n                  \"{selectedLeave.reason}\"\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"pt-2 border-t border-slate-100\">\r\n                <label className=\"block text-xs text-slate-500 uppercase font-bold mb-2\">\r\n                  Approval Notes (Optional)\r\n                </label>\r\n                <textarea\r\n                  value={approvalNotes}\r\n                  onChange={(e) => setApprovalNotes(e.target.value)}\r\n                  placeholder=\"Reason for rejection or approval note...\"\r\n                  className=\"w-full px-3 py-2 border border-slate-300 rounded text-sm focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-slate-400\"\r\n                  rows=\"3\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex gap-3 pt-2\">\r\n                <button\r\n                  onClick={() => {\r\n                    setSelectedLeave(null);\r\n                    setApprovalNotes('');\r\n                  }}\r\n                  className=\"flex-1 px-4 py-2 border border-slate-300 rounded-md text-slate-700 text-sm font-semibold hover:bg-slate-50 transition-all\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={() => handleReject(selectedLeave.id)}\r\n                  disabled={loadingId === selectedLeave.id}\r\n                  className=\"flex-1 px-4 py-2 bg-rose-600 hover:bg-rose-700 disabled:bg-rose-400 text-white text-sm font-semibold rounded-md transition-all shadow-sm\"\r\n                >\r\n                  {loadingId === selectedLeave.id ? 'Processing...' : 'Reject'}\r\n                </button>\r\n                <button\r\n                  onClick={() => handleApprove(selectedLeave.id)}\r\n                  disabled={loadingId === selectedLeave.id}\r\n                  className=\"flex-1 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-400 text-white text-sm font-semibold rounded-md transition-all shadow-sm\"\r\n                >\r\n                  {loadingId === selectedLeave.id ? 'Processing...' : 'Approve'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n"],"names":["LeaveManagementView","_ref","_selectedLeave$engine","leaves","user","onApprove","onReject","onRefresh","setModal","selectedLeave","setSelectedLeave","useState","approvalNotes","setApprovalNotes","loadingId","setLoadingId","formatDate","dateString","Date","toLocaleDateString","month","day","year","pendingLeaves","filter","l","status","approvedLeaves","rejectedLeaves","statusBadge","_jsx","className","children","LeaveTable","_ref2","tableLeaves","showActions","_jsxs","length","map","leave","_leave$engineer","_leave$engineer2","engineer","name","email","leaveType","startDate","endDate","numDays","title","reason","onClick","id","colSpan","role","Plus","Clock","CheckCircle","XCircle","value","onChange","e","target","placeholder","rows","async","leaveId","response","api","post","concat","data","err","_err$response2","_err$response2$data","alert","error","message","handleReject","disabled","_err$response","_err$response$data","handleApprove","CircleX","createLucideIcon","cx","cy","r","key","d"],"ignoreList":[],"sourceRoot":""}