"use strict";(self.webpackChunkrole_based_frontend=self.webpackChunkrole_based_frontend||[]).push([[520],{520(e,s,l){l.r(s),l.d(s,{default:()=>d});var t=l(9379),a=l(5043),n=l(614),r=l(674),o=l(579);function d(e){let{onClose:s,onSuccess:l}=e;const[d,i]=(0,a.useState)({leaveType:"casual",reason:"",startDate:"",endDate:""}),[c,u]=(0,a.useState)(!1),[b,x]=(0,a.useState)(""),m=e=>{const{name:s,value:l}=e.target;i(e=>(0,t.A)((0,t.A)({},e),{},{[s]:l})),x("")};return(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Request Leave"}),(0,o.jsx)("button",{onClick:s,className:"text-slate-400 hover:text-slate-600 transition-colors",children:(0,o.jsx)(n.A,{className:"w-5 h-5"})})]}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d.leaveType&&d.reason&&d.startDate&&d.endDate)if(new Date(d.endDate)<new Date(d.startDate))x("End date must be after start date");else{u(!0),x("");try{const e=await r.A.post("/leaves",d);l(e.data)}catch(a){var s,t;x((null===(s=a.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to submit leave request")}finally{u(!1)}}else x("All fields are required")},className:"p-6 space-y-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Leave Type"}),(0,o.jsxs)("select",{name:"leaveType",value:d.leaveType,onChange:m,className:"w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all",children:[(0,o.jsx)("option",{value:"casual",children:"Casual Leave"}),(0,o.jsx)("option",{value:"sick",children:"Sick Leave"}),(0,o.jsx)("option",{value:"personal",children:"Personal Leave"}),(0,o.jsx)("option",{value:"other",children:"Other"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reason"}),(0,o.jsx)("input",{type:"text",name:"reason",value:d.reason,onChange:m,placeholder:"Brief reason for leave",className:"w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Start Date"}),(0,o.jsx)("input",{type:"date",name:"startDate",value:d.startDate,onChange:m,className:"w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"End Date"}),(0,o.jsx)("input",{type:"date",name:"endDate",value:d.endDate,onChange:m,className:"w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all"})]})]}),b&&(0,o.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm font-medium",children:b}),(0,o.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2.5 border border-slate-300 rounded-xl text-slate-700 font-semibold hover:bg-slate-50 transition-all",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold rounded-xl transition-all",children:c?"Submitting...":"Submit Request"})]})]})]})})}}}]);
//# sourceMappingURL=520.587b9231.chunk.js.map